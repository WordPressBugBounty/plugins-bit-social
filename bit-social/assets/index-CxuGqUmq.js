import{r as a,d as Y,e as Z,_ as ee,b as j,g as D,f as te,a as A,aw as F,aK as T,n as q,aM as ae,aF as ne,c as le,aN as z,aP as re,aO as se,o as ce,O as B}from"./main-honest-apples-shout.js";import{u as H}from"./index-O27KZoyf.js";var oe=["prefixCls","className","style","checked","disabled","defaultChecked","type","title","onChange"],ue=a.forwardRef(function(e,u){var o=e.prefixCls,t=o===void 0?"rc-checkbox":o,s=e.className,b=e.style,k=e.checked,p=e.disabled,N=e.defaultChecked,y=N===void 0?!1:N,i=e.type,O=i===void 0?"checkbox":i,V=e.title,c=e.onChange,S=Y(e,oe),m=a.useRef(null),d=a.useRef(null),n=Z(y,{value:k}),R=ee(n,2),w=R[0],_=R[1];a.useImperativeHandle(u,function(){return{focus:function(r){var v;(v=m.current)===null||v===void 0||v.focus(r)},blur:function(){var r;(r=m.current)===null||r===void 0||r.blur()},input:m.current,nativeElement:d.current}});var f=j(t,s,D(D({},"".concat(t,"-checked"),w),"".concat(t,"-disabled"),p)),C=function(r){p||("checked"in e||_(r.target.checked),c==null||c({target:A(A({},e),{},{type:O,checked:r.target.checked}),stopPropagation:function(){r.stopPropagation()},preventDefault:function(){r.preventDefault()},nativeEvent:r.nativeEvent}))};return a.createElement("span",{className:f,title:V,style:b,ref:d},a.createElement("input",te({},S,{className:"".concat(t,"-input"),ref:m,onChange:C,disabled:p,checked:!!w,type:O})),a.createElement("span",{className:"".concat(t,"-inner")}))});function ie(e){const u=F.useRef(null),o=()=>{T.cancel(u.current),u.current=null};return[()=>{o(),u.current=T(()=>{u.current=null})},b=>{u.current&&(b.stopPropagation(),o()),e==null||e(b)}]}const K=F.createContext(null);var de=function(e,u){var o={};for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&u.indexOf(t)<0&&(o[t]=e[t]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,t=Object.getOwnPropertySymbols(e);s<t.length;s++)u.indexOf(t[s])<0&&Object.prototype.propertyIsEnumerable.call(e,t[s])&&(o[t[s]]=e[t[s]]);return o};const fe=(e,u)=>{var o;const{prefixCls:t,className:s,rootClassName:b,children:k,indeterminate:p=!1,style:N,onMouseEnter:y,onMouseLeave:i,skipGroup:O=!1,disabled:V}=e,c=de(e,["prefixCls","className","rootClassName","children","indeterminate","style","onMouseEnter","onMouseLeave","skipGroup","disabled"]),{getPrefixCls:S,direction:m,checkbox:d}=a.useContext(q),n=a.useContext(K),{isFormItemInput:R}=a.useContext(ae),w=a.useContext(ne),_=(o=(n==null?void 0:n.disabled)||V)!==null&&o!==void 0?o:w,f=a.useRef(c.value),C=a.useRef(null),E=le(u,C);a.useEffect(()=>{n==null||n.registerValue(c.value)},[]),a.useEffect(()=>{if(!O)return c.value!==f.current&&(n==null||n.cancelValue(f.current),n==null||n.registerValue(c.value),f.current=c.value),()=>n==null?void 0:n.cancelValue(c.value)},[c.value]),a.useEffect(()=>{var P;!((P=C.current)===null||P===void 0)&&P.input&&(C.current.input.indeterminate=p)},[p]);const r=S("checkbox",t),v=z(r),[I,$,L]=H(r,v),h=Object.assign({},c);n&&!O&&(h.onChange=function(){c.onChange&&c.onChange.apply(c,arguments),n.toggleOption&&n.toggleOption({label:k,value:c.value})},h.name=n.name,h.checked=n.value.includes(c.value));const M=j(`${r}-wrapper`,{[`${r}-rtl`]:m==="rtl",[`${r}-wrapper-checked`]:h.checked,[`${r}-wrapper-disabled`]:_,[`${r}-wrapper-in-form-item`]:R},d==null?void 0:d.className,s,b,L,v,$),l=j({[`${r}-indeterminate`]:p},re,$),[g,x]=ie(h.onClick);return I(a.createElement(se,{component:"Checkbox",disabled:_},a.createElement("label",{className:M,style:Object.assign(Object.assign({},d==null?void 0:d.style),N),onMouseEnter:y,onMouseLeave:i,onClick:g},a.createElement(ue,Object.assign({},h,{onClick:x,prefixCls:r,className:l,disabled:_,ref:E})),k!==void 0&&a.createElement("span",null,k))))},W=a.forwardRef(fe);var ve=function(e,u){var o={};for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&u.indexOf(t)<0&&(o[t]=e[t]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,t=Object.getOwnPropertySymbols(e);s<t.length;s++)u.indexOf(t[s])<0&&Object.prototype.propertyIsEnumerable.call(e,t[s])&&(o[t[s]]=e[t[s]]);return o};const pe=a.forwardRef((e,u)=>{const{defaultValue:o,children:t,options:s=[],prefixCls:b,className:k,rootClassName:p,style:N,onChange:y}=e,i=ve(e,["defaultValue","children","options","prefixCls","className","rootClassName","style","onChange"]),{getPrefixCls:O,direction:V}=a.useContext(q),[c,S]=a.useState(i.value||o||[]),[m,d]=a.useState([]);a.useEffect(()=>{"value"in i&&S(i.value||[])},[i.value]);const n=a.useMemo(()=>s.map(l=>typeof l=="string"||typeof l=="number"?{label:l,value:l}:l),[s]),R=l=>{d(g=>g.filter(x=>x!==l))},w=l=>{d(g=>[].concat(B(g),[l]))},_=l=>{const g=c.indexOf(l.value),x=B(c);g===-1?x.push(l.value):x.splice(g,1),"value"in i||S(x),y==null||y(x.filter(P=>m.includes(P)).sort((P,J)=>{const Q=n.findIndex(G=>G.value===P),U=n.findIndex(G=>G.value===J);return Q-U}))},f=O("checkbox",b),C=`${f}-group`,E=z(f),[r,v,I]=H(f,E),$=ce(i,["value","disabled"]),L=s.length?n.map(l=>a.createElement(W,{prefixCls:f,key:l.value.toString(),disabled:"disabled"in l?l.disabled:i.disabled,value:l.value,checked:c.includes(l.value),onChange:l.onChange,className:`${C}-item`,style:l.style,title:l.title,id:l.id,required:l.required},l.label)):t,h={toggleOption:_,value:c,disabled:i.disabled,name:i.name,registerValue:w,cancelValue:R},M=j(C,{[`${C}-rtl`]:V==="rtl"},k,p,I,E,v);return r(a.createElement("div",Object.assign({className:M,style:N},$,{ref:u}),a.createElement(K.Provider,{value:h},L)))}),X=W;X.Group=pe;X.__ANT_CHECKBOX=!0;export{X as C,ue as a,ie as u};
