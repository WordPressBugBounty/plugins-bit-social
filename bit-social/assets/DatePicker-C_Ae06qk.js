import{f as L,g as z,e as H,n as Z,h as V,u as N,b as W,p as S,a as y,j as c,_ as I,F as R,L as se,o as U}from"./main-plenty-doors-read.js";import{O as G,g as q,z as P,r as E,T as x,K as J,J as K,S as F,H as oe,t as Q,y as ie,B,F as ce,N as re,G as ne}from"./antd-Dkhz2BjJ.js";import{$ as le,u as X}from"./useSocialTemplates-DyNqVUWx.js";import{P as he}from"./PlatformIcon-nT1RWFgS.js";import{a as ue}from"./useIntervalTypes--1bNiVZ0.js";import{a as fe,g as me}from"./groupHelper-DRF28X9S.js";import{M as ee}from"./index-0DjDwEVr.js";var te={exports:{}};(function(e,t){(function(o,r){e.exports=r()})(G,function(){var o={year:0,month:1,day:2,hour:3,minute:4,second:5},r={};return function($,k,g){var l,n=function(s,m,u){u===void 0&&(u={});var a=new Date(s),h=function(b,C){C===void 0&&(C={});var d=C.timeZoneName||"short",v=b+"|"+d,T=r[v];return T||(T=new Intl.DateTimeFormat("en-US",{hour12:!1,timeZone:b,year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit",timeZoneName:d}),r[v]=T),T}(m,u);return h.formatToParts(a)},i=function(s,m){for(var u=n(s,m),a=[],h=0;h<u.length;h+=1){var b=u[h],C=b.type,d=b.value,v=o[C];v>=0&&(a[v]=parseInt(d,10))}var T=a[3],M=T===24?0:T,A=a[0]+"-"+a[1]+"-"+a[2]+" "+M+":"+a[4]+":"+a[5]+":000",j=+s;return(g.utc(A).valueOf()-(j-=j%1e3))/6e4},f=k.prototype;f.tz=function(s,m){s===void 0&&(s=l);var u,a=this.utcOffset(),h=this.toDate(),b=h.toLocaleString("en-US",{timeZone:s}),C=Math.round((h-new Date(b))/1e3/60),d=15*-Math.round(h.getTimezoneOffset()/15)-C;if(!Number(d))u=this.utcOffset(0,m);else if(u=g(b,{locale:this.$L}).$set("millisecond",this.$ms).utcOffset(d,!0),m){var v=u.utcOffset();u=u.add(a-v,"minute")}return u.$x.$timezone=s,u},f.offsetName=function(s){var m=this.$x.$timezone||g.tz.guess(),u=n(this.valueOf(),m,{timeZoneName:s}).find(function(a){return a.type.toLowerCase()==="timezonename"});return u&&u.value};var p=f.startOf;f.startOf=function(s,m){if(!this.$x||!this.$x.$timezone)return p.call(this,s,m);var u=g(this.format("YYYY-MM-DD HH:mm:ss:SSS"),{locale:this.$L});return p.call(u,s,m).tz(this.$x.$timezone,!0)},g.tz=function(s,m,u){var a=u&&m,h=u||m||l,b=i(+g(),h);if(typeof s!="string")return g(s).tz(h);var C=function(M,A,j){var w=M-60*A*1e3,D=i(w,j);if(A===D)return[w,A];var _=i(w-=60*(D-A)*1e3,j);return D===_?[w,D]:[M-60*Math.min(D,_)*1e3,Math.max(D,_)]}(g.utc(s,a).valueOf(),b,h),d=C[0],v=C[1],T=g(d).utcOffset(v);return T.$x.$timezone=h,T},g.tz.guess=function(){return Intl.DateTimeFormat().resolvedOptions().timeZone},g.tz.setDefault=function(s){l=s}}})})(te);var ge=te.exports;const de=q(ge);var ae={exports:{}};(function(e,t){(function(o,r){e.exports=r()})(G,function(){var o="minute",r=/[+-]\d\d(?::?\d\d)?/g,$=/([+-]|\d\d)/g;return function(k,g,l){var n=g.prototype;l.utc=function(a){var h={date:a,utc:!0,args:arguments};return new g(h)},n.utc=function(a){var h=l(this.toDate(),{locale:this.$L,utc:!0});return a?h.add(this.utcOffset(),o):h},n.local=function(){return l(this.toDate(),{locale:this.$L,utc:!1})};var i=n.parse;n.parse=function(a){a.utc&&(this.$u=!0),this.$utils().u(a.$offset)||(this.$offset=a.$offset),i.call(this,a)};var f=n.init;n.init=function(){if(this.$u){var a=this.$d;this.$y=a.getUTCFullYear(),this.$M=a.getUTCMonth(),this.$D=a.getUTCDate(),this.$W=a.getUTCDay(),this.$H=a.getUTCHours(),this.$m=a.getUTCMinutes(),this.$s=a.getUTCSeconds(),this.$ms=a.getUTCMilliseconds()}else f.call(this)};var p=n.utcOffset;n.utcOffset=function(a,h){var b=this.$utils().u;if(b(a))return this.$u?0:b(this.$offset)?p.call(this):this.$offset;if(typeof a=="string"&&(a=function(T){T===void 0&&(T="");var M=T.match(r);if(!M)return null;var A=(""+M[0]).match($)||["-",0,0],j=A[0],w=60*+A[1]+ +A[2];return w===0?0:j==="+"?w:-w}(a),a===null))return this;var C=Math.abs(a)<=16?60*a:a,d=this;if(h)return d.$offset=C,d.$u=a===0,d;if(a!==0){var v=this.$u?this.toDate().getTimezoneOffset():-1*this.utcOffset();(d=this.local().add(C+v,o)).$offset=C,d.$x.$localOffset=v}else d=this.utc();return d};var s=n.format;n.format=function(a){var h=a||(this.$u?"YYYY-MM-DDTHH:mm:ss[Z]":"");return s.call(this,h)},n.valueOf=function(){var a=this.$utils().u(this.$offset)?0:this.$offset+(this.$x.$localOffset||this.$d.getTimezoneOffset());return this.$d.valueOf()-6e4*a},n.isUTC=function(){return!!this.$u},n.toISOString=function(){return this.toDate().toISOString()},n.toString=function(){return this.toDate().toUTCString()};var m=n.toDate;n.toDate=function(a){return a==="s"&&this.$offset?l(this.format("YYYY-MM-DD HH:mm:ss:SSS")).toDate():m.call(this)};var u=n.diff;n.diff=function(a,h,b){if(a&&this.$u===a.$u)return u.call(this,a,h,b);var C=this.local(),d=l(a).local();return u.call(C,d,h,b)}}})})(ae);var pe=ae.exports;const be=q(pe);globalThis.jotaiAtomCache=globalThis.jotaiAtomCache||{cache:new Map,get(e,t){return this.cache.has(e)?this.cache.get(e):(this.cache.set(e,t),t)}};const Ce=globalThis.jotaiAtomCache.get("/home/runner/work/bit-social/bit-social/frontend/src/common/globalStates/$scheduleModalData.ts/$scheduleModalData",L({open:!1,type:"Create"}));Ce.debugLabel="$scheduleModalData";const Te=globalThis.jotaiAtomCache.get("/home/runner/work/bit-social/bit-social/frontend/src/common/globalStates/$scheduleModalData.ts/$searchText",L(""));Te.debugLabel="$searchText";P.extend(be);P.extend(de);const{timeZone:$e}=z(H),ve=z(le),Ae=P(Z($e)).format("YYYY-MM-DD HH:mm:ss"),ke=e=>({discord:{content:e.discord.content,isAllImages:!1,isFeaturedImage:!0,isLinkCard:!1,isProductImage:!1},facebook:{content:e.facebook.content,isAllImages:!1,isFeaturedImage:!1,isLinkCard:!1,isProductImage:!1,isVideo:!1},googleBusinessProfile:{button:"none",content:e.googleBusinessProfile.content,isAllImages:!1,isFeaturedImage:!1,isLinkCard:!1,isProductImage:!1},instagram:{comment:e.instagram.comment,content:e.instagram.content,isAllImages:!1,isFeaturedImage:!1,isProductImage:!1,isVideo:!1},linkedin:{content:e.linkedin.content,isAllImages:!1,isFeaturedImage:!1,isLinkCard:!1,isProductImage:!1,isVideo:!1},pinterest:{content:e.pinterest.content,isAllImages:!1,isFeaturedImage:!0,isLinkCard:!1,isProductImage:!1},tumblr:{content:e.tumblr.content,isAllImages:!1,isFeaturedImage:!1,isLinkCard:!1,isProductImage:!1,isVideo:!1},twitter:{content:e.twitter.content,isAllImages:!1,isFeaturedImage:!1,isLinkCard:!1,isProductImage:!1}}),we=e=>({accounts:{accountIds:[],groupIds:[]},post_filters:{filter_by_days:"0",post_type:"post"},settings:{name:"Untitled schedule",post_interval_type:"hour",post_interval_value:1,post_publish_order:"4",started_at:Ae},templates:ke(e)}),Y=globalThis.jotaiAtomCache.get("/home/runner/work/bit-social/bit-social/frontend/src/common/globalStates/$scheduleModalData.ts/$scheduleData",L(we(ve)));Y.debugLabel="$scheduleData";globalThis.jotaiAtomCache=globalThis.jotaiAtomCache||{cache:new Map,get(e,t){return this.cache.has(e)?this.cache.get(e):(this.cache.set(e,t),t)}};const Ie=globalThis.jotaiAtomCache.get("/home/runner/work/bit-social/bit-social/frontend/src/common/globalStates/$scheduleErrors.ts/$scheduleErrors",L({}));Ie.debugLabel="$scheduleErrors";globalThis.jotaiAtomCache=globalThis.jotaiAtomCache||{cache:new Map,get(e,t){return this.cache.has(e)?this.cache.get(e):(this.cache.set(e,t),t)}};const O={isAllImages:{name:"All Images",tooltip:"Enable to the post all images shared"},isFeaturedImage:{name:"Featured Image",tooltip:"Enable to the post featured image shared"},isLinkCard:{name:"Link Card",tooltip:"Enable to the post link shared as a card"},isProductImage:{name:"Product Image",tooltip:"Enable to the product image shared"},isVideo:{name:"Video",tooltip:"Enable to the post video shared"}};globalThis.jotaiAtomCache=globalThis.jotaiAtomCache||{cache:new Map,get(e,t){return this.cache.has(e)?this.cache.get(e):(this.cache.set(e,t),t)}};function Me(){const[e,t]=V(Y),{isProClient:o}=N(W),{socialTemplates:r}=X(),$=i=>{t(f=>S(f,p=>{p.templates.facebook.content=i}))},l=o?["isFeaturedImage","isProductImage","isLinkCard","isAllImages"]:["isFeaturedImage","isLinkCard"],n=(i,f)=>{t(p=>S(p,s=>{l.forEach(m=>{s.templates.facebook[m]=!1}),s.templates.facebook[i]=f}))};return E.useEffect(()=>{if(!(r!=null&&r.facebook)||e.id)return;const{content:i,postingType:f}=r.facebook;f!=="onlyMessage"&&t(p=>S(p,s=>{l.forEach(m=>{s.templates.facebook[m]=!1}),s.templates.facebook[f]=!0,s.templates.facebook.content=i}))},[r==null?void 0:r.facebook]),y(R,{children:[c(ee,{label:I("Customize post message"),onChange:$,rows:6,value:e.templates.facebook.content,wrapperClassName:"mb-4"}),c(x.Title,{level:5,children:I("Media")}),c(F,{className:"mb-3",wrap:!0,children:l==null?void 0:l.map(i=>c(J,{title:O[i].tooltip,children:c(K,{checked:e.templates.facebook[i],onChange:f=>{n(i,f.target.checked)},children:O[i].name})},i))})]})}globalThis.jotaiAtomCache=globalThis.jotaiAtomCache||{cache:new Map,get(e,t){return this.cache.has(e)?this.cache.get(e):(this.cache.set(e,t),t)}};function je(){const[e,t]=V(Y),{socialTemplates:o}=X(),{isProClient:r}=N(W),$=i=>{t(f=>S(f,p=>{p.templates.linkedin.content=i}))},l=r?["isFeaturedImage","isProductImage","isLinkCard","isAllImages"]:["isFeaturedImage","isLinkCard"],n=(i,f)=>{t(p=>S(p,s=>{l.forEach(m=>{s.templates.linkedin[m]=!1}),s.templates.linkedin[i]=f}))};return E.useEffect(()=>{if(!(o!=null&&o.linkedin)||e.id)return;const{content:i,postingType:f}=o.linkedin;f!=="onlyMessage"&&t(p=>S(p,s=>{l.forEach(m=>{s.templates.linkedin[m]=!1}),s.templates.linkedin[f]=!0,s.templates.linkedin.content=i}))},[o==null?void 0:o.linkedin]),y(R,{children:[c(ee,{label:I("Customize post message"),onChange:$,rows:6,value:e.templates.linkedin.content,wrapperClassName:"mb-4"}),c(x.Title,{level:5,children:I("Media")}),c(F,{className:"mb-3",wrap:!0,children:c(F,{className:"mb-3",wrap:!0,children:l==null?void 0:l.map(i=>c(J,{title:O[i].tooltip,children:c(K,{checked:e.templates.linkedin[i],onChange:f=>{n(i,f.target.checked)},children:O[i].name})},i))})})]})}globalThis.jotaiAtomCache=globalThis.jotaiAtomCache||{cache:new Map,get(e,t){return this.cache.has(e)?this.cache.get(e):(this.cache.set(e,t),t)}};function De({platform:e}){switch(e){case"facebook":return c(Me,{});case"linkedin":return c(je,{})}}globalThis.jotaiAtomCache=globalThis.jotaiAtomCache||{cache:new Map,get(e,t){return this.cache.has(e)?this.cache.get(e):(this.cache.set(e,t),t)}};globalThis.jotaiAtomCache=globalThis.jotaiAtomCache||{cache:new Map,get(e,t){return this.cache.has(e)?this.cache.get(e):(this.cache.set(e,t),t)}};globalThis.jotaiAtomCache=globalThis.jotaiAtomCache||{cache:new Map,get(e,t){return this.cache.has(e)?this.cache.get(e):(this.cache.set(e,t),t)}};globalThis.jotaiAtomCache=globalThis.jotaiAtomCache||{cache:new Map,get(e,t){return this.cache.has(e)?this.cache.get(e):(this.cache.set(e,t),t)}};globalThis.jotaiAtomCache=globalThis.jotaiAtomCache||{cache:new Map,get(e,t){return this.cache.has(e)?this.cache.get(e):(this.cache.set(e,t),t)}};globalThis.jotaiAtomCache=globalThis.jotaiAtomCache||{cache:new Map,get(e,t){return this.cache.has(e)?this.cache.get(e):(this.cache.set(e,t),t)}};globalThis.jotaiAtomCache=globalThis.jotaiAtomCache||{cache:new Map,get(e,t){return this.cache.has(e)?this.cache.get(e):(this.cache.set(e,t),t)}};globalThis.jotaiAtomCache=globalThis.jotaiAtomCache||{cache:new Map,get(e,t){return this.cache.has(e)?this.cache.get(e):(this.cache.set(e,t),t)}};function Se({platform:e}){return c(De,{platform:e})}globalThis.jotaiAtomCache=globalThis.jotaiAtomCache||{cache:new Map,get(e,t){return this.cache.has(e)?this.cache.get(e):(this.cache.set(e,t),t)}};const ye=(e,t)=>[...new Set(e==null?void 0:e.filter(o=>t==null?void 0:t.includes(o.id)).map(o=>o.platform))],Pe=e=>e.map(t=>({children:c(Se,{platform:t}),key:t,label:c("span",{title:t,children:c(he,{name:t,size:32})})}));function Qe(){const e=N(Y),{activeAccounts:t}=ue(),{groups:o}=fe(),r=E.useMemo(()=>{var n;const $=e.accounts.accountIds,k=me(o,(n=e.accounts)==null?void 0:n.groupIds),g=[...$,...k],l=ye(t,g);return Pe(l)},[t,o,e.accounts.groupIds,e.accounts.accountIds]);return!r||!r.length?c(x.Title,{level:4,style:{textAlign:"center"},type:"secondary",children:I("Please select an account")}):c(oe,{items:r,tabBarGutter:8})}const xe=""+new URL("bit-social-ba-assets-589.svg",import.meta.url).href;globalThis.jotaiAtomCache=globalThis.jotaiAtomCache||{cache:new Map,get(e,t){return this.cache.has(e)?this.cache.get(e):(this.cache.set(e,t),t)}};const{Link:Fe,Title:Oe}=x;function Le(){const{token:e}=Q.useToken(),[t,o]=E.useState(!1);return c(re,{content:c(ie,{preview:!1,src:xe,width:400}),onOpenChange:$=>{o($)},open:t,placement:"bottomRight",title:y(ce,{align:"center",justify:"space-between",children:[c(Oe,{level:5,style:{color:e.colorPrimary,marginBottom:0},children:I("Advance Schedule Feature on Pro!")}),c(Fe,{href:"https://bit-social.com/#pricing",rel:"noopener noreferrer nofollow",strong:!0,style:{whiteSpace:"nowrap"},target:"_blank",children:c(B,{size:"small",type:"primary",children:I("Buy Pro")})})]}),trigger:"click",children:y(B,{style:{borderColor:e.colorPrimary},type:"text",children:[I("Advance Schedule")," ",c(se,{color:"#ff8609",name:"crown",size:18})]})})}globalThis.jotaiAtomCache=globalThis.jotaiAtomCache||{cache:new Map,get(e,t){return this.cache.has(e)?this.cache.get(e):(this.cache.set(e,t),t)}};const{dateFormat:ze,timeFormat:Ee,timeZone:Ye}=z(H),_e=U(Ee),He=U(ze);function Ne({handleOnClear:e,onChangeDate:t,stateData:o,type:r}){var k,g,l;const{token:$}=Q.useToken();return y(F,{children:[c(x.Text,{style:{border:`1px solid ${$.colorBorder}`,borderRadius:"9px",cursor:"not-allowed",fontSize:"14px",padding:"5px 15px"},children:P(((k=o==null?void 0:o.settings)==null?void 0:k.started_at)||Z(Ye)).format(He)}),c(ne,{allowClear:r==="SHARENOW",format:_e,onChange:r==="SHARENOW"?e:void 0,onOk:t("started_at"),showNow:!1,showSecond:!1,value:(g=o.settings)!=null&&g.started_at?P((l=o.settings)==null?void 0:l.started_at,"YYYY-MM-DD HH:mm:ss"):void 0}),c(Le,{})]})}globalThis.jotaiAtomCache=globalThis.jotaiAtomCache||{cache:new Map,get(e,t){return this.cache.has(e)?this.cache.get(e):(this.cache.set(e,t),t)}};const{dateFormat:Ue,timeFormat:Be}=z(H),Ze=`${Ue} ${Be}`;U(Ze);globalThis.jotaiAtomCache=globalThis.jotaiAtomCache||{cache:new Map,get(e,t){return this.cache.has(e)?this.cache.get(e):(this.cache.set(e,t),t)}};function Xe({handleOnClear:e,onChangeDate:t,stateData:o,type:r}){return c(Ne,{handleOnClear:e,onChangeDate:t,stateData:o,type:r})}export{Y as $,Xe as D,Qe as T,Te as a,Ie as b,we as d,ye as g,de as t,be as u};
