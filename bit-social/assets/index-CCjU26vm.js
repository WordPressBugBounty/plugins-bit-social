import{r as a,d as J,e as U,_ as ee,c as $,g as D,f as te,a as A,aQ as B,b4 as z,X as q,b5 as ae,aZ as ne,b as le,b6 as F,b8 as se,b7 as re,o as ce,Y as T}from"./main-loud-buses-flash.js";import{u as H}from"./index-DhLEDAJI.js";var oe=["prefixCls","className","style","checked","disabled","defaultChecked","type","title","onChange"],ue=a.forwardRef(function(e,u){var o=e.prefixCls,t=o===void 0?"rc-checkbox":o,c=e.className,p=e.style,h=e.checked,b=e.disabled,R=e.defaultChecked,_=R===void 0?!1:R,i=e.type,E=i===void 0?"checkbox":i,w=e.title,r=e.onChange,V=J(e,oe),g=a.useRef(null),d=a.useRef(null),l=U(_,{value:h}),N=ee(l,2),P=N[0],x=N[1];a.useImperativeHandle(u,function(){return{focus:function(s){var v;(v=g.current)===null||v===void 0||v.focus(s)},blur:function(){var s;(s=g.current)===null||s===void 0||s.blur()},input:g.current,nativeElement:d.current}});var f=$(t,c,D(D({},"".concat(t,"-checked"),P),"".concat(t,"-disabled"),b)),m=function(s){b||("checked"in e||x(s.target.checked),r==null||r({target:A(A({},e),{},{type:E,checked:s.target.checked}),stopPropagation:function(){s.stopPropagation()},preventDefault:function(){s.preventDefault()},nativeEvent:s.nativeEvent}))};return a.createElement("span",{className:f,title:w,style:p,ref:d},a.createElement("input",te({},V,{className:"".concat(t,"-input"),ref:g,onChange:m,disabled:b,checked:!!P,type:E})),a.createElement("span",{className:"".concat(t,"-inner")}))});function ie(e){const u=B.useRef(null),o=()=>{z.cancel(u.current),u.current=null};return[()=>{o(),u.current=z(()=>{u.current=null})},p=>{u.current&&(p.stopPropagation(),o()),e==null||e(p)}]}const W=B.createContext(null);var de=function(e,u){var o={};for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&u.indexOf(t)<0&&(o[t]=e[t]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var c=0,t=Object.getOwnPropertySymbols(e);c<t.length;c++)u.indexOf(t[c])<0&&Object.prototype.propertyIsEnumerable.call(e,t[c])&&(o[t[c]]=e[t[c]]);return o};const fe=(e,u)=>{var o;const{prefixCls:t,className:c,rootClassName:p,children:h,indeterminate:b=!1,style:R,onMouseEnter:_,onMouseLeave:i,skipGroup:E=!1,disabled:w}=e,r=de(e,["prefixCls","className","rootClassName","children","indeterminate","style","onMouseEnter","onMouseLeave","skipGroup","disabled"]),{getPrefixCls:V,direction:g,checkbox:d}=a.useContext(q),l=a.useContext(W),{isFormItemInput:N}=a.useContext(ae),P=a.useContext(ne),x=(o=(l==null?void 0:l.disabled)||w)!==null&&o!==void 0?o:P,f=a.useRef(r.value),m=a.useRef(null),S=le(u,m);a.useEffect(()=>{l==null||l.registerValue(r.value)},[]),a.useEffect(()=>{if(!E)return r.value!==f.current&&(l==null||l.cancelValue(f.current),l==null||l.registerValue(r.value),f.current=r.value),()=>l==null?void 0:l.cancelValue(r.value)},[r.value]),a.useEffect(()=>{var C;!((C=m.current)===null||C===void 0)&&C.input&&(m.current.input.indeterminate=b)},[b]);const s=V("checkbox",t),v=F(s),[I,j,L]=H(s,v),k=Object.assign({},r);l&&!E&&(k.onChange=(...C)=>{r.onChange&&r.onChange.apply(r,C),l.toggleOption&&l.toggleOption({label:h,value:r.value})},k.name=l.name,k.checked=l.value.includes(r.value));const M=$(`${s}-wrapper`,{[`${s}-rtl`]:g==="rtl",[`${s}-wrapper-checked`]:k.checked,[`${s}-wrapper-disabled`]:x,[`${s}-wrapper-in-form-item`]:N},d==null?void 0:d.className,c,p,L,v,j),n=$({[`${s}-indeterminate`]:b},se,j),[y,O]=ie(k.onClick);return I(a.createElement(re,{component:"Checkbox",disabled:x},a.createElement("label",{className:M,style:Object.assign(Object.assign({},d==null?void 0:d.style),R),onMouseEnter:_,onMouseLeave:i,onClick:y},a.createElement(ue,Object.assign({},k,{onClick:O,prefixCls:s,className:n,disabled:x,ref:S})),h!=null&&a.createElement("span",{className:`${s}-label`},h))))},X=a.forwardRef(fe);var ve=function(e,u){var o={};for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&u.indexOf(t)<0&&(o[t]=e[t]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var c=0,t=Object.getOwnPropertySymbols(e);c<t.length;c++)u.indexOf(t[c])<0&&Object.prototype.propertyIsEnumerable.call(e,t[c])&&(o[t[c]]=e[t[c]]);return o};const be=a.forwardRef((e,u)=>{const{defaultValue:o,children:t,options:c=[],prefixCls:p,className:h,rootClassName:b,style:R,onChange:_}=e,i=ve(e,["defaultValue","children","options","prefixCls","className","rootClassName","style","onChange"]),{getPrefixCls:E,direction:w}=a.useContext(q),[r,V]=a.useState(i.value||o||[]),[g,d]=a.useState([]);a.useEffect(()=>{"value"in i&&V(i.value||[])},[i.value]);const l=a.useMemo(()=>c.map(n=>typeof n=="string"||typeof n=="number"?{label:n,value:n}:n),[c]),N=n=>{d(y=>y.filter(O=>O!==n))},P=n=>{d(y=>[].concat(T(y),[n]))},x=n=>{const y=r.indexOf(n.value),O=T(r);y===-1?O.push(n.value):O.splice(y,1),"value"in i||V(O),_==null||_(O.filter(C=>g.includes(C)).sort((C,Q)=>{const Y=l.findIndex(G=>G.value===C),Z=l.findIndex(G=>G.value===Q);return Y-Z}))},f=E("checkbox",p),m=`${f}-group`,S=F(f),[s,v,I]=H(f,S),j=ce(i,["value","disabled"]),L=c.length?l.map(n=>a.createElement(X,{prefixCls:f,key:n.value.toString(),disabled:"disabled"in n?n.disabled:i.disabled,value:n.value,checked:r.includes(n.value),onChange:n.onChange,className:$(`${m}-item`,n.className),style:n.style,title:n.title,id:n.id,required:n.required},n.label)):t,k=a.useMemo(()=>({toggleOption:x,value:r,disabled:i.disabled,name:i.name,registerValue:P,cancelValue:N}),[x,r,i.disabled,i.name,P,N]),M=$(m,{[`${m}-rtl`]:w==="rtl"},h,b,I,S,v);return s(a.createElement("div",Object.assign({className:M,style:R},j,{ref:u}),a.createElement(W.Provider,{value:k},L)))}),K=X;K.Group=be;K.__ANT_CHECKBOX=!0;export{K as C,ue as a,ie as u};
