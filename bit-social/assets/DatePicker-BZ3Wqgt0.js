import{f as S,g as F,e as z,m as N,j as c,h as B,u as Y,b as Z,a as M,F as V,p as x,L as te,n as E}from"./main-afraid-ants-sort.js";import{N as W,O as R,y as P,H as ae,J as se,T as D,S as _,r as G,G as oe,t as q,x as ie,B as H,F as ce,K as re,z as ne}from"./antd-CMhliQbc.js";import{$ as le}from"./_socialTemplates-CRuryL5C.js";import{P as he}from"./PlatformIcon-DHlKQsTj.js";import{a as ue}from"./useIntervalTypes-DAAt_mng.js";import{a as fe,g as me}from"./groupHelper-PveggK-o.js";import{M as J}from"./index-Bxjp1ha4.js";var K={exports:{}};(function(e,t){(function(s,l){e.exports=l()})(W,function(){var s={year:0,month:1,day:2,hour:3,minute:4,second:5},l={};return function(m,C,h){var g,o=function(i,u,n){n===void 0&&(n={});var a=new Date(i),r=function(d,p){p===void 0&&(p={});var f=p.timeZoneName||"short",A=d+"|"+f,T=l[A];return T||(T=new Intl.DateTimeFormat("en-US",{hour12:!1,timeZone:d,year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit",timeZoneName:f}),l[A]=T),T}(u,n);return r.formatToParts(a)},$=function(i,u){for(var n=o(i,u),a=[],r=0;r<n.length;r+=1){var d=n[r],p=d.type,f=d.value,A=s[p];A>=0&&(a[A]=parseInt(f,10))}var T=a[3],I=T===24?0:T,k=a[0]+"-"+a[1]+"-"+a[2]+" "+I+":"+a[4]+":"+a[5]+":000",j=+i;return(h.utc(k).valueOf()-(j-=j%1e3))/6e4},b=C.prototype;b.tz=function(i,u){i===void 0&&(i=g);var n,a=this.utcOffset(),r=this.toDate(),d=r.toLocaleString("en-US",{timeZone:i}),p=Math.round((r-new Date(d))/1e3/60),f=15*-Math.round(r.getTimezoneOffset()/15)-p;if(!Number(f))n=this.utcOffset(0,u);else if(n=h(d,{locale:this.$L}).$set("millisecond",this.$ms).utcOffset(f,!0),u){var A=n.utcOffset();n=n.add(a-A,"minute")}return n.$x.$timezone=i,n},b.offsetName=function(i){var u=this.$x.$timezone||h.tz.guess(),n=o(this.valueOf(),u,{timeZoneName:i}).find(function(a){return a.type.toLowerCase()==="timezonename"});return n&&n.value};var v=b.startOf;b.startOf=function(i,u){if(!this.$x||!this.$x.$timezone)return v.call(this,i,u);var n=h(this.format("YYYY-MM-DD HH:mm:ss:SSS"),{locale:this.$L});return v.call(n,i,u).tz(this.$x.$timezone,!0)},h.tz=function(i,u,n){var a=n&&u,r=n||u||g,d=$(+h(),r);if(typeof i!="string")return h(i).tz(r);var p=function(I,k,j){var w=I-60*k*1e3,y=$(w,j);if(k===y)return[w,k];var L=$(w-=60*(y-k)*1e3,j);return y===L?[w,y]:[I-60*Math.min(y,L)*1e3,Math.max(y,L)]}(h.utc(i,a).valueOf(),d,r),f=p[0],A=p[1],T=h(f).utcOffset(A);return T.$x.$timezone=r,T},h.tz.guess=function(){return Intl.DateTimeFormat().resolvedOptions().timeZone},h.tz.setDefault=function(i){g=i}}})})(K);var ge=K.exports;const de=R(ge);var Q={exports:{}};(function(e,t){(function(s,l){e.exports=l()})(W,function(){var s="minute",l=/[+-]\d\d(?::?\d\d)?/g,m=/([+-]|\d\d)/g;return function(C,h,g){var o=h.prototype;g.utc=function(a){var r={date:a,utc:!0,args:arguments};return new h(r)},o.utc=function(a){var r=g(this.toDate(),{locale:this.$L,utc:!0});return a?r.add(this.utcOffset(),s):r},o.local=function(){return g(this.toDate(),{locale:this.$L,utc:!1})};var $=o.parse;o.parse=function(a){a.utc&&(this.$u=!0),this.$utils().u(a.$offset)||(this.$offset=a.$offset),$.call(this,a)};var b=o.init;o.init=function(){if(this.$u){var a=this.$d;this.$y=a.getUTCFullYear(),this.$M=a.getUTCMonth(),this.$D=a.getUTCDate(),this.$W=a.getUTCDay(),this.$H=a.getUTCHours(),this.$m=a.getUTCMinutes(),this.$s=a.getUTCSeconds(),this.$ms=a.getUTCMilliseconds()}else b.call(this)};var v=o.utcOffset;o.utcOffset=function(a,r){var d=this.$utils().u;if(d(a))return this.$u?0:d(this.$offset)?v.call(this):this.$offset;if(typeof a=="string"&&(a=function(T){T===void 0&&(T="");var I=T.match(l);if(!I)return null;var k=(""+I[0]).match(m)||["-",0,0],j=k[0],w=60*+k[1]+ +k[2];return w===0?0:j==="+"?w:-w}(a),a===null))return this;var p=Math.abs(a)<=16?60*a:a,f=this;if(r)return f.$offset=p,f.$u=a===0,f;if(a!==0){var A=this.$u?this.toDate().getTimezoneOffset():-1*this.utcOffset();(f=this.local().add(p+A,s)).$offset=p,f.$x.$localOffset=A}else f=this.utc();return f};var i=o.format;o.format=function(a){var r=a||(this.$u?"YYYY-MM-DDTHH:mm:ss[Z]":"");return i.call(this,r)},o.valueOf=function(){var a=this.$utils().u(this.$offset)?0:this.$offset+(this.$x.$localOffset||this.$d.getTimezoneOffset());return this.$d.valueOf()-6e4*a},o.isUTC=function(){return!!this.$u},o.toISOString=function(){return this.toDate().toISOString()},o.toString=function(){return this.toDate().toUTCString()};var u=o.toDate;o.toDate=function(a){return a==="s"&&this.$offset?g(this.format("YYYY-MM-DD HH:mm:ss:SSS")).toDate():u.call(this)};var n=o.diff;o.diff=function(a,r,d){if(a&&this.$u===a.$u)return n.call(this,a,r,d);var p=this.local(),f=g(a).local();return n.call(p,f,r,d)}}})})(Q);var pe=Q.exports;const be=R(pe);globalThis.jotaiAtomCache=globalThis.jotaiAtomCache||{cache:new Map,get(e,t){return this.cache.has(e)?this.cache.get(e):(this.cache.set(e,t),t)}};const Te=globalThis.jotaiAtomCache.get("/home/runner/work/bit-social/bit-social/frontend/src/common/globalStates/$scheduleModalData.ts/$scheduleModalData",S({open:!1,type:"Create"}));Te.debugLabel="$scheduleModalData";const Ce=globalThis.jotaiAtomCache.get("/home/runner/work/bit-social/bit-social/frontend/src/common/globalStates/$scheduleModalData.ts/$searchText",S(""));Ce.debugLabel="$searchText";P.extend(be);P.extend(de);const{timeZone:$e}=F(z),ve=F(le),Ae=P(N($e)).format("YYYY-MM-DD HH:mm:ss"),ke=e=>({discord:{content:e.discord.content,isAllImages:!1,isFeaturedImage:!0,isLinkCard:!1,isProductImage:!1},facebook:{content:e.facebook.content,isAllImages:!1,isFeaturedImage:!1,isLinkCard:!1,isProductImage:!1,isVideo:!1},googleBusinessProfile:{button:"none",content:e.googleBusinessProfile.content,isAllImages:!1,isFeaturedImage:!1,isLinkCard:!1,isProductImage:!1},instagram:{comment:e.instagram.comment,content:e.instagram.content,isAllImages:!1,isFeaturedImage:!1,isProductImage:!1,isVideo:!1},linkedin:{content:e.linkedin.content,isAllImages:!1,isFeaturedImage:!1,isLinkCard:!1,isProductImage:!1,isVideo:!1},pinterest:{content:e.pinterest.content,isAllImages:!1,isFeaturedImage:!0,isLinkCard:!1,isProductImage:!1},tumblr:{content:e.tumblr.content,isAllImages:!1,isFeaturedImage:!1,isLinkCard:!1,isProductImage:!1,isVideo:!1},twitter:{content:e.twitter.content,isAllImages:!1,isFeaturedImage:!1,isLinkCard:!1,isProductImage:!1}}),we=e=>({accounts:{accountIds:[],groupIds:[]},post_filters:{filter_by_days:"0",post_type:"post"},settings:{name:"Untitled schedule",post_interval_type:"hour",post_interval_value:1,post_publish_order:"4",started_at:Ae},templates:ke(e)}),O=globalThis.jotaiAtomCache.get("/home/runner/work/bit-social/bit-social/frontend/src/common/globalStates/$scheduleModalData.ts/$scheduleData",S(we(ve)));O.debugLabel="$scheduleData";globalThis.jotaiAtomCache=globalThis.jotaiAtomCache||{cache:new Map,get(e,t){return this.cache.has(e)?this.cache.get(e):(this.cache.set(e,t),t)}};const Ie=globalThis.jotaiAtomCache.get("/home/runner/work/bit-social/bit-social/frontend/src/common/globalStates/$scheduleErrors.ts/$scheduleErrors",S({}));Ie.debugLabel="$scheduleErrors";globalThis.jotaiAtomCache=globalThis.jotaiAtomCache||{cache:new Map,get(e,t){return this.cache.has(e)?this.cache.get(e):(this.cache.set(e,t),t)}};const je=e=>{const t=new Set(["button","content"]);return Object.keys(e).filter(s=>!t.has(s))},X=(e,t)=>je(t[e]);globalThis.jotaiAtomCache=globalThis.jotaiAtomCache||{cache:new Map,get(e,t){return this.cache.has(e)?this.cache.get(e):(this.cache.set(e,t),t)}};const U={isAllImages:{name:"All Images",tooltip:"Enable to the post all images shared"},isFeaturedImage:{name:"Featured Image",tooltip:"Enable to the post featured image shared"},isLinkCard:{name:"Link Card",tooltip:"Enable to the post link shared as a card"},isProductImage:{name:"Product Image",tooltip:"Enable to the product image shared"},isVideo:{name:"Video",tooltip:"Enable to the post video shared"}};function ee({handleSwitch:e,platform:t,scheduleData:s,types:l}){return l.map(m=>c(se,{title:U[m].tooltip,children:c(ae,{checked:s.templates[t][m],onChange:C=>{e(m,C.target.checked)},children:U[m].name})},m))}globalThis.jotaiAtomCache=globalThis.jotaiAtomCache||{cache:new Map,get(e,t){return this.cache.has(e)?this.cache.get(e):(this.cache.set(e,t),t)}};function ye(){const[e,t]=B(O),{isProClient:s}=Y(Z),l=$=>{t(b=>x(b,v=>{v.templates.facebook.content=$}))},m=X("facebook",e.templates),C=($,b)=>{t(v=>x(v,i=>{m.forEach(u=>{i.templates.facebook[u]=!1}),i.templates.facebook[$]=b}))},o=s?["isFeaturedImage","isProductImage","isLinkCard","isAllImages"]:["isFeaturedImage","isLinkCard"];return M(V,{children:[c(J,{label:"Customize post message",onChange:l,rows:6,value:e.templates.facebook.content,wrapperClassName:"mb-4"}),c(D.Title,{level:5,children:"Media"}),c(_,{className:"mb-3",wrap:!0,children:c(ee,{handleSwitch:C,platform:"facebook",scheduleData:e,types:o})})]})}globalThis.jotaiAtomCache=globalThis.jotaiAtomCache||{cache:new Map,get(e,t){return this.cache.has(e)?this.cache.get(e):(this.cache.set(e,t),t)}};function Me(){const[e,t]=B(O),{isProClient:s}=Y(Z),l=$=>{t(b=>x(b,v=>{v.templates.linkedin.content=$}))},m=X("linkedin",e.templates),C=($,b)=>{t(v=>x(v,i=>{m.forEach(u=>{i.templates.linkedin[u]=!1}),i.templates.linkedin[$]=b}))},o=s?["isFeaturedImage","isProductImage","isLinkCard","isAllImages"]:["isFeaturedImage","isLinkCard"];return M(V,{children:[c(J,{label:"Customize post message",onChange:l,rows:6,value:e.templates.linkedin.content,wrapperClassName:"mb-4"}),c(D.Title,{level:5,children:"Media"}),c(_,{className:"mb-3",wrap:!0,children:c(ee,{handleSwitch:C,platform:"linkedin",scheduleData:e,types:o})})]})}globalThis.jotaiAtomCache=globalThis.jotaiAtomCache||{cache:new Map,get(e,t){return this.cache.has(e)?this.cache.get(e):(this.cache.set(e,t),t)}};function Pe({platform:e}){switch(e){case"facebook":return c(ye,{});case"linkedin":return c(Me,{})}}globalThis.jotaiAtomCache=globalThis.jotaiAtomCache||{cache:new Map,get(e,t){return this.cache.has(e)?this.cache.get(e):(this.cache.set(e,t),t)}};globalThis.jotaiAtomCache=globalThis.jotaiAtomCache||{cache:new Map,get(e,t){return this.cache.has(e)?this.cache.get(e):(this.cache.set(e,t),t)}};globalThis.jotaiAtomCache=globalThis.jotaiAtomCache||{cache:new Map,get(e,t){return this.cache.has(e)?this.cache.get(e):(this.cache.set(e,t),t)}};globalThis.jotaiAtomCache=globalThis.jotaiAtomCache||{cache:new Map,get(e,t){return this.cache.has(e)?this.cache.get(e):(this.cache.set(e,t),t)}};globalThis.jotaiAtomCache=globalThis.jotaiAtomCache||{cache:new Map,get(e,t){return this.cache.has(e)?this.cache.get(e):(this.cache.set(e,t),t)}};globalThis.jotaiAtomCache=globalThis.jotaiAtomCache||{cache:new Map,get(e,t){return this.cache.has(e)?this.cache.get(e):(this.cache.set(e,t),t)}};globalThis.jotaiAtomCache=globalThis.jotaiAtomCache||{cache:new Map,get(e,t){return this.cache.has(e)?this.cache.get(e):(this.cache.set(e,t),t)}};globalThis.jotaiAtomCache=globalThis.jotaiAtomCache||{cache:new Map,get(e,t){return this.cache.has(e)?this.cache.get(e):(this.cache.set(e,t),t)}};function De({platform:e}){return c(Pe,{platform:e})}globalThis.jotaiAtomCache=globalThis.jotaiAtomCache||{cache:new Map,get(e,t){return this.cache.has(e)?this.cache.get(e):(this.cache.set(e,t),t)}};const xe=(e,t)=>[...new Set(e==null?void 0:e.filter(s=>t==null?void 0:t.includes(s.id)).map(s=>s.platform))],Se=e=>e.map(t=>({children:c(De,{platform:t}),key:t,label:c("span",{title:t,children:c(he,{name:t,size:32})})}));function Xe(){const e=Y(O),{activeAccounts:t}=ue(),{groups:s}=fe(),l=G.useMemo(()=>{var o;const m=e.accounts.accountIds,C=me(s,(o=e.accounts)==null?void 0:o.groupIds),h=[...m,...C],g=xe(t,h);return Se(g)},[t,s,e.accounts.groupIds,e.accounts.accountIds]);return!l||!l.length?c(D.Title,{level:4,style:{textAlign:"center"},type:"secondary",children:"Please select an account"}):c(oe,{items:l,tabBarGutter:8})}const Fe=""+new URL("bit-social-ba-assets-429.svg",import.meta.url).href;globalThis.jotaiAtomCache=globalThis.jotaiAtomCache||{cache:new Map,get(e,t){return this.cache.has(e)?this.cache.get(e):(this.cache.set(e,t),t)}};const{Link:Oe,Title:Le}=D;function ze(){const{token:e}=q.useToken(),[t,s]=G.useState(!1);return c(re,{content:c(ie,{preview:!1,src:Fe,width:400}),onOpenChange:m=>{s(m)},open:t,placement:"bottomRight",title:M(ce,{align:"center",justify:"space-between",children:[c(Le,{level:5,style:{color:e.colorPrimary,marginBottom:0},children:"Advance Schedule Feature on Pro!"}),c(Oe,{href:"https://bit-social.com/#pricing",rel:"noopener noreferrer nofollow",strong:!0,style:{whiteSpace:"nowrap"},target:"_blank",children:c(H,{size:"small",type:"primary",children:"Buy Pro"})})]}),trigger:"click",children:M(H,{style:{borderColor:e.colorPrimary},type:"text",children:["Advance Schedule ",c(te,{color:"#ff8609",name:"crown",size:18})]})})}globalThis.jotaiAtomCache=globalThis.jotaiAtomCache||{cache:new Map,get(e,t){return this.cache.has(e)?this.cache.get(e):(this.cache.set(e,t),t)}};const{dateFormat:Ye,timeFormat:Ee,timeZone:_e}=F(z),He=E(Ee),Ue=E(Ye);function Ne({handleOnClear:e,onChangeDate:t,stateData:s,type:l}){var C,h,g;const{token:m}=q.useToken();return M(_,{children:[c(D.Text,{style:{border:`1px solid ${m.colorBorder}`,borderRadius:"9px",cursor:"not-allowed",fontSize:"14px",padding:"5px 15px"},children:P(((C=s==null?void 0:s.settings)==null?void 0:C.started_at)||N(_e)).format(Ue)}),c(ne,{allowClear:l==="SHARENOW",format:He,onChange:l==="SHARENOW"?e:void 0,onOk:t("started_at"),showNow:!1,showSecond:!1,value:(h=s.settings)!=null&&h.started_at?P((g=s.settings)==null?void 0:g.started_at,"YYYY-MM-DD HH:mm:ss"):void 0}),c(ze,{})]})}globalThis.jotaiAtomCache=globalThis.jotaiAtomCache||{cache:new Map,get(e,t){return this.cache.has(e)?this.cache.get(e):(this.cache.set(e,t),t)}};const{dateFormat:Be,timeFormat:Ze}=F(z),Ve=`${Be} ${Ze}`;E(Ve);globalThis.jotaiAtomCache=globalThis.jotaiAtomCache||{cache:new Map,get(e,t){return this.cache.has(e)?this.cache.get(e):(this.cache.set(e,t),t)}};function et({handleOnClear:e,onChangeDate:t,stateData:s,type:l}){return c(Ne,{handleOnClear:e,onChangeDate:t,stateData:s,type:l})}export{O as $,et as D,Xe as T,Ce as a,Ie as b,we as d,xe as g,de as t,be as u};
