import{r as I,bn as ie,bl as re,bo as V,bp as Z,V as z,R as Y,U as N,a8 as W,W as G,D as H,E as q,X as D,y as x,j as n,z as P,T as S,ag as X,S as E,F as J,x as K,B,L as ce,aa as R}from"./main-public-sites-jump.js";import{D as ne,d as O}from"./index-LlP0ihel.js";import{$ as le,u as Q}from"./useSocialTemplates-BQyl3EoI.js";import{P as he}from"./PlatformIcon-DOY0j39w.js";import{a as ue}from"./useIntervalTypes-BNlcR7Tp.js";import{a as fe,g as me}from"./groupHelper-CHcRAj1t.js";import{M as ee}from"./index-CyiTFh8o.js";import{C as te}from"./index-DKFQcDW_.js";import{T as ge}from"./index-BLMZd3yt.js";import{I as de}from"./index-TRLvvde0.js";import{F as pe}from"./index-CJ4TFQWw.js";import{P as be}from"./index-DN6kpQXs.js";var Te=function(e,t){var s={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(s[o]=e[o]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var d=0,o=Object.getOwnPropertySymbols(e);d<o.length;d++)t.indexOf(o[d])<0&&Object.prototype.propertyIsEnumerable.call(e,o[d])&&(s[o[d]]=e[o[d]]);return s};const{TimePicker:Ce,RangePicker:ve}=ne,$e=I.forwardRef((e,t)=>I.createElement(ve,Object.assign({},e,{picker:"time",mode:void 0,ref:t}))),F=I.forwardRef((e,t)=>{var{addon:s,renderExtraFooter:o,variant:d,bordered:k}=e,g=Te(e,["addon","renderExtraFooter","variant","bordered"]);const[l]=ie("timePicker",d,k),r=I.useMemo(()=>{if(o)return o;if(s)return s},[s,o]);return I.createElement(Ce,Object.assign({},g,{mode:void 0,ref:t,renderExtraFooter:r,variant:l}))}),ae=re(F,"picker");F._InternalPanelDoNotUseOrYouWillBeFired=ae;F.RangePicker=$e;F._InternalPanelDoNotUseOrYouWillBeFired=ae;var oe={exports:{}};(function(e,t){(function(s,o){e.exports=o()})(V,function(){var s={year:0,month:1,day:2,hour:3,minute:4,second:5},o={};return function(d,k,g){var l,r=function(i,m,u){u===void 0&&(u={});var a=new Date(i),h=function(T,C){C===void 0&&(C={});var p=C.timeZoneName||"short",$=T+"|"+p,v=o[$];return v||(v=new Intl.DateTimeFormat("en-US",{hour12:!1,timeZone:T,year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit",timeZoneName:p}),o[$]=v),v}(m,u);return h.formatToParts(a)},c=function(i,m){for(var u=r(i,m),a=[],h=0;h<u.length;h+=1){var T=u[h],C=T.type,p=T.value,$=s[C];$>=0&&(a[$]=parseInt(p,10))}var v=a[3],j=v===24?0:v,A=a[0]+"-"+a[1]+"-"+a[2]+" "+j+":"+a[4]+":"+a[5]+":000",M=+i;return(g.utc(A).valueOf()-(M-=M%1e3))/6e4},f=k.prototype;f.tz=function(i,m){i===void 0&&(i=l);var u,a=this.utcOffset(),h=this.toDate(),T=h.toLocaleString("en-US",{timeZone:i}),C=Math.round((h-new Date(T))/1e3/60),p=15*-Math.round(h.getTimezoneOffset()/15)-C;if(!Number(p))u=this.utcOffset(0,m);else if(u=g(T,{locale:this.$L}).$set("millisecond",this.$ms).utcOffset(p,!0),m){var $=u.utcOffset();u=u.add(a-$,"minute")}return u.$x.$timezone=i,u},f.offsetName=function(i){var m=this.$x.$timezone||g.tz.guess(),u=r(this.valueOf(),m,{timeZoneName:i}).find(function(a){return a.type.toLowerCase()==="timezonename"});return u&&u.value};var b=f.startOf;f.startOf=function(i,m){if(!this.$x||!this.$x.$timezone)return b.call(this,i,m);var u=g(this.format("YYYY-MM-DD HH:mm:ss:SSS"),{locale:this.$L});return b.call(u,i,m).tz(this.$x.$timezone,!0)},g.tz=function(i,m,u){var a=u&&m,h=u||m||l,T=c(+g(),h);if(typeof i!="string")return g(i).tz(h);var C=function(j,A,M){var w=j-60*A*1e3,y=c(w,M);if(A===y)return[w,A];var U=c(w-=60*(y-A)*1e3,M);return y===U?[w,y]:[j-60*Math.min(y,U)*1e3,Math.max(y,U)]}(g.utc(i,a).valueOf(),T,h),p=C[0],$=C[1],v=g(p).utcOffset($);return v.$x.$timezone=h,v},g.tz.guess=function(){return Intl.DateTimeFormat().resolvedOptions().timeZone},g.tz.setDefault=function(i){l=i}}})})(oe);var ke=oe.exports;const Ae=Z(ke);var se={exports:{}};(function(e,t){(function(s,o){e.exports=o()})(V,function(){var s="minute",o=/[+-]\d\d(?::?\d\d)?/g,d=/([+-]|\d\d)/g;return function(k,g,l){var r=g.prototype;l.utc=function(a){var h={date:a,utc:!0,args:arguments};return new g(h)},r.utc=function(a){var h=l(this.toDate(),{locale:this.$L,utc:!0});return a?h.add(this.utcOffset(),s):h},r.local=function(){return l(this.toDate(),{locale:this.$L,utc:!1})};var c=r.parse;r.parse=function(a){a.utc&&(this.$u=!0),this.$utils().u(a.$offset)||(this.$offset=a.$offset),c.call(this,a)};var f=r.init;r.init=function(){if(this.$u){var a=this.$d;this.$y=a.getUTCFullYear(),this.$M=a.getUTCMonth(),this.$D=a.getUTCDate(),this.$W=a.getUTCDay(),this.$H=a.getUTCHours(),this.$m=a.getUTCMinutes(),this.$s=a.getUTCSeconds(),this.$ms=a.getUTCMilliseconds()}else f.call(this)};var b=r.utcOffset;r.utcOffset=function(a,h){var T=this.$utils().u;if(T(a))return this.$u?0:T(this.$offset)?b.call(this):this.$offset;if(typeof a=="string"&&(a=function(v){v===void 0&&(v="");var j=v.match(o);if(!j)return null;var A=(""+j[0]).match(d)||["-",0,0],M=A[0],w=60*+A[1]+ +A[2];return w===0?0:M==="+"?w:-w}(a),a===null))return this;var C=Math.abs(a)<=16?60*a:a,p=this;if(h)return p.$offset=C,p.$u=a===0,p;if(a!==0){var $=this.$u?this.toDate().getTimezoneOffset():-1*this.utcOffset();(p=this.local().add(C+$,s)).$offset=C,p.$x.$localOffset=$}else p=this.utc();return p};var i=r.format;r.format=function(a){var h=a||(this.$u?"YYYY-MM-DDTHH:mm:ss[Z]":"");return i.call(this,h)},r.valueOf=function(){var a=this.$utils().u(this.$offset)?0:this.$offset+(this.$x.$localOffset||this.$d.getTimezoneOffset());return this.$d.valueOf()-6e4*a},r.isUTC=function(){return!!this.$u},r.toISOString=function(){return this.toDate().toISOString()},r.toString=function(){return this.toDate().toUTCString()};var m=r.toDate;r.toDate=function(a){return a==="s"&&this.$offset?l(this.format("YYYY-MM-DD HH:mm:ss:SSS")).toDate():m.call(this)};var u=r.diff;r.diff=function(a,h,T){if(a&&this.$u===a.$u)return u.call(this,a,h,T);var C=this.local(),p=l(a).local();return u.call(C,p,h,T)}}})})(se);var Ie=se.exports;const we=Z(Ie);globalThis.jotaiAtomCache=globalThis.jotaiAtomCache||{cache:new Map,get(e,t){return this.cache.has(e)?this.cache.get(e):(this.cache.set(e,t),t)}};const Pe=globalThis.jotaiAtomCache.get("/home/runner/work/bit-social/bit-social/frontend/src/common/globalStates/$scheduleModalData.ts/$scheduleModalData",z({open:!1,type:"Create"}));Pe.debugLabel="$scheduleModalData";const je=globalThis.jotaiAtomCache.get("/home/runner/work/bit-social/bit-social/frontend/src/common/globalStates/$scheduleModalData.ts/$searchText",z(""));je.debugLabel="$searchText";O.extend(we);O.extend(Ae);const{timeZone:Me}=Y(N),ye=Y(le),De=O(W(Me)).format("YYYY-MM-DD HH:mm:ss"),xe=e=>({discord:{content:e.discord.content,isAllImages:!1,isFeaturedImage:!0,isLinkCard:!1,isProductImage:!1},facebook:{content:e.facebook.content,isAllImages:!1,isFeaturedImage:!1,isLinkCard:!1,isProductImage:!1,isVideo:!1},googleBusinessProfile:{button:"none",content:e.googleBusinessProfile.content,isAllImages:!1,isFeaturedImage:!1,isLinkCard:!1,isProductImage:!1},instagram:{comment:e.instagram.comment,content:e.instagram.content,isAllImages:!1,isFeaturedImage:!1,isProductImage:!1,isVideo:!1},linkedin:{content:e.linkedin.content,isAllImages:!1,isFeaturedImage:!1,isLinkCard:!1,isProductImage:!1,isVideo:!1},pinterest:{content:e.pinterest.content,isAllImages:!1,isFeaturedImage:!0,isLinkCard:!1,isProductImage:!1},tumblr:{content:e.tumblr.content,isAllImages:!1,isFeaturedImage:!1,isLinkCard:!1,isProductImage:!1,isVideo:!1},twitter:{content:e.twitter.content,isAllImages:!1,isFeaturedImage:!1,isLinkCard:!1,isProductImage:!1}}),Oe=e=>({accounts:{accountIds:[],groupIds:[]},post_filters:{filter_by_days:"0",post_type:"post"},settings:{name:"Untitled schedule",post_interval_type:"hour",post_interval_value:1,post_publish_order:"4",started_at:De},templates:xe(e)}),_=globalThis.jotaiAtomCache.get("/home/runner/work/bit-social/bit-social/frontend/src/common/globalStates/$scheduleModalData.ts/$scheduleData",z(Oe(ye)));_.debugLabel="$scheduleData";globalThis.jotaiAtomCache=globalThis.jotaiAtomCache||{cache:new Map,get(e,t){return this.cache.has(e)?this.cache.get(e):(this.cache.set(e,t),t)}};const Se=globalThis.jotaiAtomCache.get("/home/runner/work/bit-social/bit-social/frontend/src/common/globalStates/$scheduleErrors.ts/$scheduleErrors",z({}));Se.debugLabel="$scheduleErrors";globalThis.jotaiAtomCache=globalThis.jotaiAtomCache||{cache:new Map,get(e,t){return this.cache.has(e)?this.cache.get(e):(this.cache.set(e,t),t)}};const L={isAllImages:{name:"All Images",tooltip:"Enable to the post all images shared"},isFeaturedImage:{name:"Featured Image",tooltip:"Enable to the post featured image shared"},isLinkCard:{name:"Link Card",tooltip:"Enable to the post link shared as a card"},isProductImage:{name:"Product Image",tooltip:"Enable to the product image shared"},isVideo:{name:"Video",tooltip:"Enable to the post video shared"}};globalThis.jotaiAtomCache=globalThis.jotaiAtomCache||{cache:new Map,get(e,t){return this.cache.has(e)?this.cache.get(e):(this.cache.set(e,t),t)}};function Fe(){const[e,t]=G(_),{isProClient:s}=H(q),{socialTemplates:o}=Q(),d=c=>{t(f=>D(f,b=>{b.templates.facebook.content=c}))},l=s?["isFeaturedImage","isProductImage","isLinkCard","isAllImages"]:["isFeaturedImage","isLinkCard"],r=(c,f)=>{t(b=>D(b,i=>{l.forEach(m=>{i.templates.facebook[m]=!1}),i.templates.facebook[c]=f}))};return I.useEffect(()=>{if(!(o!=null&&o.facebook)||e.id)return;const{content:c,postingType:f}=o.facebook;f!=="onlyMessage"&&t(b=>D(b,i=>{l.forEach(m=>{i.templates.facebook[m]=!1}),i.templates.facebook[f]=!0,i.templates.facebook.content=c}))},[o==null?void 0:o.facebook]),x(J,{children:[n(ee,{label:P("Customize post message"),onChange:d,rows:6,value:e.templates.facebook.content,wrapperClassName:"mb-4"}),n(S.Title,{level:5,children:P("Media")}),n(E,{className:"mb-3",wrap:!0,children:l==null?void 0:l.map(c=>n(X,{title:L[c].tooltip,children:n(te,{checked:e.templates.facebook[c],onChange:f=>{r(c,f.target.checked)},children:L[c].name})},c))})]})}globalThis.jotaiAtomCache=globalThis.jotaiAtomCache||{cache:new Map,get(e,t){return this.cache.has(e)?this.cache.get(e):(this.cache.set(e,t),t)}};function Ee(){const[e,t]=G(_),{socialTemplates:s}=Q(),{isProClient:o}=H(q),d=c=>{t(f=>D(f,b=>{b.templates.linkedin.content=c}))},l=o?["isFeaturedImage","isProductImage","isLinkCard","isAllImages"]:["isFeaturedImage","isLinkCard"],r=(c,f)=>{t(b=>D(b,i=>{l.forEach(m=>{i.templates.linkedin[m]=!1}),i.templates.linkedin[c]=f}))};return I.useEffect(()=>{if(!(s!=null&&s.linkedin)||e.id)return;const{content:c,postingType:f}=s.linkedin;f!=="onlyMessage"&&t(b=>D(b,i=>{l.forEach(m=>{i.templates.linkedin[m]=!1}),i.templates.linkedin[f]=!0,i.templates.linkedin.content=c}))},[s==null?void 0:s.linkedin]),x(J,{children:[n(ee,{label:P("Customize post message"),onChange:d,rows:6,value:e.templates.linkedin.content,wrapperClassName:"mb-4"}),n(S.Title,{level:5,children:P("Media")}),n(E,{className:"mb-3",wrap:!0,children:n(E,{className:"mb-3",wrap:!0,children:l==null?void 0:l.map(c=>n(X,{title:L[c].tooltip,children:n(te,{checked:e.templates.linkedin[c],onChange:f=>{r(c,f.target.checked)},children:L[c].name})},c))})})]})}globalThis.jotaiAtomCache=globalThis.jotaiAtomCache||{cache:new Map,get(e,t){return this.cache.has(e)?this.cache.get(e):(this.cache.set(e,t),t)}};function Le({platform:e}){switch(e){case"facebook":return n(Fe,{});case"linkedin":return n(Ee,{})}}globalThis.jotaiAtomCache=globalThis.jotaiAtomCache||{cache:new Map,get(e,t){return this.cache.has(e)?this.cache.get(e):(this.cache.set(e,t),t)}};globalThis.jotaiAtomCache=globalThis.jotaiAtomCache||{cache:new Map,get(e,t){return this.cache.has(e)?this.cache.get(e):(this.cache.set(e,t),t)}};globalThis.jotaiAtomCache=globalThis.jotaiAtomCache||{cache:new Map,get(e,t){return this.cache.has(e)?this.cache.get(e):(this.cache.set(e,t),t)}};globalThis.jotaiAtomCache=globalThis.jotaiAtomCache||{cache:new Map,get(e,t){return this.cache.has(e)?this.cache.get(e):(this.cache.set(e,t),t)}};globalThis.jotaiAtomCache=globalThis.jotaiAtomCache||{cache:new Map,get(e,t){return this.cache.has(e)?this.cache.get(e):(this.cache.set(e,t),t)}};globalThis.jotaiAtomCache=globalThis.jotaiAtomCache||{cache:new Map,get(e,t){return this.cache.has(e)?this.cache.get(e):(this.cache.set(e,t),t)}};globalThis.jotaiAtomCache=globalThis.jotaiAtomCache||{cache:new Map,get(e,t){return this.cache.has(e)?this.cache.get(e):(this.cache.set(e,t),t)}};globalThis.jotaiAtomCache=globalThis.jotaiAtomCache||{cache:new Map,get(e,t){return this.cache.has(e)?this.cache.get(e):(this.cache.set(e,t),t)}};function ze({platform:e}){return n(Le,{platform:e})}globalThis.jotaiAtomCache=globalThis.jotaiAtomCache||{cache:new Map,get(e,t){return this.cache.has(e)?this.cache.get(e):(this.cache.set(e,t),t)}};const Ye=(e,t)=>[...new Set(e==null?void 0:e.filter(s=>t==null?void 0:t.includes(s.id)).map(s=>s.platform))],_e=e=>e.map(t=>({children:n(ze,{platform:t}),key:t,label:n("span",{title:t,children:n(he,{name:t,size:32})})}));function ut(){const e=H(_),{activeAccounts:t}=ue(),{groups:s}=fe(),o=I.useMemo(()=>{var r;const d=e.accounts.accountIds,k=me(s,(r=e.accounts)==null?void 0:r.groupIds),g=[...d,...k],l=Ye(t,g);return _e(l)},[t,s,e.accounts.groupIds,e.accounts.accountIds]);return!o||!o.length?n(S.Title,{level:4,style:{textAlign:"center"},type:"secondary",children:P("Please select an account")}):n(ge,{items:o,tabBarGutter:8})}const Ue=""+new URL("bit-social-ba-assets-90.svg",import.meta.url).href;globalThis.jotaiAtomCache=globalThis.jotaiAtomCache||{cache:new Map,get(e,t){return this.cache.has(e)?this.cache.get(e):(this.cache.set(e,t),t)}};const{Link:Ne,Title:He}=S;function Re(){const{token:e}=K.useToken(),[t,s]=I.useState(!1);return n(be,{content:n(de,{preview:!1,src:Ue,width:400}),onOpenChange:d=>{s(d)},open:t,placement:"bottomRight",title:x(pe,{align:"center",justify:"space-between",children:[n(He,{level:5,style:{color:e.colorPrimary,marginBottom:0},children:P("Advance Schedule Feature on Pro!")}),n(Ne,{href:"https://bit-social.com/#pricing",rel:"noopener noreferrer nofollow",strong:!0,style:{whiteSpace:"nowrap"},target:"_blank",children:n(B,{size:"small",type:"primary",children:P("Buy Pro")})})]}),trigger:"click",children:x(B,{style:{borderColor:e.colorPrimary},type:"text",children:[P("Advance Schedule")," ",n(ce,{color:"#ff8609",name:"crown",size:18})]})})}globalThis.jotaiAtomCache=globalThis.jotaiAtomCache||{cache:new Map,get(e,t){return this.cache.has(e)?this.cache.get(e):(this.cache.set(e,t),t)}};const{dateFormat:Be,timeFormat:Ve,timeZone:Ze}=Y(N),We=R(Ve),Ge=R(Be);function qe({handleOnClear:e,onChangeDate:t,stateData:s,type:o}){var k,g,l;const{token:d}=K.useToken();return x(E,{children:[n(S.Text,{style:{border:`1px solid ${d.colorBorder}`,borderRadius:"9px",cursor:"not-allowed",fontSize:"14px",padding:"5px 15px"},children:O(((k=s==null?void 0:s.settings)==null?void 0:k.started_at)||W(Ze)).format(Ge)}),n(F,{allowClear:o==="SHARENOW",format:We,onChange:o==="SHARENOW"?e:void 0,onOk:t("started_at"),showNow:!1,showSecond:!1,value:(g=s.settings)!=null&&g.started_at?O((l=s.settings)==null?void 0:l.started_at,"YYYY-MM-DD HH:mm:ss"):void 0}),n(Re,{})]})}globalThis.jotaiAtomCache=globalThis.jotaiAtomCache||{cache:new Map,get(e,t){return this.cache.has(e)?this.cache.get(e):(this.cache.set(e,t),t)}};const{dateFormat:Xe,timeFormat:Je}=Y(N),Ke=`${Xe} ${Je}`;R(Ke);globalThis.jotaiAtomCache=globalThis.jotaiAtomCache||{cache:new Map,get(e,t){return this.cache.has(e)?this.cache.get(e):(this.cache.set(e,t),t)}};function ft({handleOnClear:e,onChangeDate:t,stateData:s,type:o}){return n(qe,{handleOnClear:e,onChangeDate:t,stateData:s,type:o})}export{_ as $,ft as D,ut as T,je as a,Se as b,F as c,Oe as d,Ye as g,Ae as t,we as u};
