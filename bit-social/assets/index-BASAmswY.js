import{aB as w,i as Q,m as K,n as E,k as Y,c9 as J,l as Z,bg as tt,r as p,X as H,b6 as D,c as P,aE as et,ca as ot,aD as nt,cb as at,aF as it,aQ as f,bh as rt,bv as ct,cc as st,cd as lt,ce as dt}from"./main-loud-buses-flash.js";import{N as ft,u as ut,a as pt,A as gt}from"./context-CirkcbG9.js";const mt=t=>{const{componentCls:e,notificationMarginEdge:o,animationMaxHeight:n}=t,a=`${e}-notice`,i=new w("antNotificationFadeIn",{"0%":{transform:"translate3d(100%, 0, 0)",opacity:0},"100%":{transform:"translate3d(0, 0, 0)",opacity:1}}),s=new w("antNotificationTopFadeIn",{"0%":{top:-n,opacity:0},"100%":{top:0,opacity:1}}),r=new w("antNotificationBottomFadeIn",{"0%":{bottom:t.calc(n).mul(-1).equal(),opacity:0},"100%":{bottom:0,opacity:1}}),c=new w("antNotificationLeftFadeIn",{"0%":{transform:"translate3d(-100%, 0, 0)",opacity:0},"100%":{transform:"translate3d(0, 0, 0)",opacity:1}});return{[e]:{[`&${e}-top, &${e}-bottom`]:{marginInline:0,[a]:{marginInline:"auto auto"}},[`&${e}-top`]:{[`${e}-fade-enter${e}-fade-enter-active, ${e}-fade-appear${e}-fade-appear-active`]:{animationName:s}},[`&${e}-bottom`]:{[`${e}-fade-enter${e}-fade-enter-active, ${e}-fade-appear${e}-fade-appear-active`]:{animationName:r}},[`&${e}-topRight, &${e}-bottomRight`]:{[`${e}-fade-enter${e}-fade-enter-active, ${e}-fade-appear${e}-fade-appear-active`]:{animationName:i}},[`&${e}-topLeft, &${e}-bottomLeft`]:{marginRight:{value:0,_skip_check_:!0},marginLeft:{value:o,_skip_check_:!0},[a]:{marginInlineEnd:"auto",marginInlineStart:0},[`${e}-fade-enter${e}-fade-enter-active, ${e}-fade-appear${e}-fade-appear-active`]:{animationName:c}}}}},bt=["top","topLeft","topRight","bottom","bottomLeft","bottomRight"],ht={topLeft:"left",topRight:"right",bottomLeft:"left",bottomRight:"right",top:"left",bottom:"left"},$t=(t,e)=>{const{componentCls:o}=t;return{[`${o}-${e}`]:{[`&${o}-stack > ${o}-notice-wrapper`]:{[e.startsWith("top")?"top":"bottom"]:0,[ht[e]]:{value:0,_skip_check_:!0}}}}},vt=t=>{const e={};for(let o=1;o<t.notificationStackLayer;o++)e[`&:nth-last-child(${o+1})`]={overflow:"hidden",[`& > ${t.componentCls}-notice`]:{opacity:0,transition:`opacity ${t.motionDurationMid}`}};return Object.assign({[`&:not(:nth-last-child(-n+${t.notificationStackLayer}))`]:{opacity:0,overflow:"hidden",color:"transparent",pointerEvents:"none"}},e)},yt=t=>{const e={};for(let o=1;o<t.notificationStackLayer;o++)e[`&:nth-last-child(${o+1})`]={background:t.colorBgBlur,backdropFilter:"blur(10px)","-webkit-backdrop-filter":"blur(10px)"};return Object.assign({},e)},Ct=t=>{const{componentCls:e}=t;return Object.assign({[`${e}-stack`]:{[`& > ${e}-notice-wrapper`]:Object.assign({transition:`transform ${t.motionDurationSlow}, backdrop-filter 0s`,willChange:"transform, opacity",position:"absolute"},vt(t))},[`${e}-stack:not(${e}-stack-expanded)`]:{[`& > ${e}-notice-wrapper`]:Object.assign({},yt(t))},[`${e}-stack${e}-stack-expanded`]:{[`& > ${e}-notice-wrapper`]:{"&:not(:nth-last-child(-n + 1))":{opacity:1,overflow:"unset",color:"inherit",pointerEvents:"auto",[`& > ${t.componentCls}-notice`]:{opacity:1}},"&:after":{content:'""',position:"absolute",height:t.margin,width:"100%",insetInline:0,bottom:t.calc(t.margin).mul(-1).equal(),background:"transparent",pointerEvents:"auto"}}}},bt.map(o=>$t(t,o)).reduce((o,n)=>Object.assign(Object.assign({},o),n),{}))},A=t=>{const{iconCls:e,componentCls:o,boxShadow:n,fontSizeLG:a,notificationMarginBottom:i,borderRadiusLG:s,colorSuccess:r,colorInfo:c,colorWarning:l,colorError:b,colorTextHeading:u,notificationBg:v,notificationPadding:O,notificationMarginEdge:y,notificationProgressBg:g,notificationProgressHeight:$,fontSize:C,lineHeight:m,width:x,notificationIconSize:S,colorText:I}=t,d=`${o}-notice`;return{position:"relative",marginBottom:i,marginInlineStart:"auto",background:v,borderRadius:s,boxShadow:n,[d]:{padding:O,width:x,maxWidth:`calc(100vw - ${E(t.calc(y).mul(2).equal())})`,overflow:"hidden",lineHeight:m,wordWrap:"break-word"},[`${d}-message`]:{color:u,fontSize:a,lineHeight:t.lineHeightLG},[`${d}-description`]:{fontSize:C,color:I,marginTop:t.marginXS},[`${d}-closable ${d}-message`]:{paddingInlineEnd:t.paddingLG},[`${d}-with-icon ${d}-message`]:{marginInlineStart:t.calc(t.marginSM).add(S).equal(),fontSize:a},[`${d}-with-icon ${d}-description`]:{marginInlineStart:t.calc(t.marginSM).add(S).equal(),fontSize:C},[`${d}-icon`]:{position:"absolute",fontSize:S,lineHeight:1,[`&-success${e}`]:{color:r},[`&-info${e}`]:{color:c},[`&-warning${e}`]:{color:l},[`&-error${e}`]:{color:b}},[`${d}-close`]:Object.assign({position:"absolute",top:t.notificationPaddingVertical,insetInlineEnd:t.notificationPaddingHorizontal,color:t.colorIcon,outline:"none",width:t.notificationCloseButtonSize,height:t.notificationCloseButtonSize,borderRadius:t.borderRadiusSM,transition:`background-color ${t.motionDurationMid}, color ${t.motionDurationMid}`,display:"flex",alignItems:"center",justifyContent:"center",background:"none",border:"none","&:hover":{color:t.colorIconHover,backgroundColor:t.colorBgTextHover},"&:active":{backgroundColor:t.colorBgTextActive}},Z(t)),[`${d}-progress`]:{position:"absolute",display:"block",appearance:"none",inlineSize:`calc(100% - ${E(s)} * 2)`,left:{_skip_check_:!0,value:s},right:{_skip_check_:!0,value:s},bottom:0,blockSize:$,border:0,"&, &::-webkit-progress-bar":{borderRadius:s,backgroundColor:"rgba(0, 0, 0, 0.04)"},"&::-moz-progress-bar":{background:g},"&::-webkit-progress-value":{borderRadius:s,background:g}},[`${d}-actions`]:{float:"right",marginTop:t.marginSM}}},St=t=>{const{componentCls:e,notificationMarginBottom:o,notificationMarginEdge:n,motionDurationMid:a,motionEaseInOut:i}=t,s=`${e}-notice`,r=new w("antNotificationFadeOut",{"0%":{maxHeight:t.animationMaxHeight,marginBottom:o},"100%":{maxHeight:0,marginBottom:0,paddingTop:0,paddingBottom:0,opacity:0}});return[{[e]:Object.assign(Object.assign({},Y(t)),{position:"fixed",zIndex:t.zIndexPopup,marginRight:{value:n,_skip_check_:!0},[`${e}-hook-holder`]:{position:"relative"},[`${e}-fade-appear-prepare`]:{opacity:"0 !important"},[`${e}-fade-enter, ${e}-fade-appear`]:{animationDuration:t.motionDurationMid,animationTimingFunction:i,animationFillMode:"both",opacity:0,animationPlayState:"paused"},[`${e}-fade-leave`]:{animationTimingFunction:i,animationFillMode:"both",animationDuration:a,animationPlayState:"paused"},[`${e}-fade-enter${e}-fade-enter-active, ${e}-fade-appear${e}-fade-appear-active`]:{animationPlayState:"running"},[`${e}-fade-leave${e}-fade-leave-active`]:{animationName:r,animationPlayState:"running"},"&-rtl":{direction:"rtl",[`${s}-actions`]:{float:"left"}}})},{[e]:{[`${s}-wrapper`]:Object.assign({},A(t))}}]},G=t=>({zIndexPopup:t.zIndexPopupBase+J+50,width:384}),k=t=>{const e=t.paddingMD,o=t.paddingLG;return K(t,{notificationBg:t.colorBgElevated,notificationPaddingVertical:e,notificationPaddingHorizontal:o,notificationIconSize:t.calc(t.fontSizeLG).mul(t.lineHeightLG).equal(),notificationCloseButtonSize:t.calc(t.controlHeightLG).mul(.55).equal(),notificationMarginBottom:t.margin,notificationPadding:`${E(t.paddingMD)} ${E(t.paddingContentHorizontalLG)}`,notificationMarginEdge:t.marginLG,animationMaxHeight:150,notificationStackLayer:3,notificationProgressHeight:2,notificationProgressBg:`linear-gradient(90deg, ${t.colorPrimaryBorderHover}, ${t.colorPrimary})`})},W=Q("Notification",t=>{const e=k(t);return[St(e),mt(e),Ct(e)]},G),Ot=tt(["Notification","PurePanel"],t=>{const e=`${t.componentCls}-notice`,o=k(t);return{[`${e}-pure-panel`]:Object.assign(Object.assign({},A(o)),{width:o.width,maxWidth:`calc(100vw - ${E(t.calc(o.notificationMarginEdge).mul(2).equal())})`,margin:0})}},G);var xt=function(t,e){var o={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(o[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,n=Object.getOwnPropertySymbols(t);a<n.length;a++)e.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(t,n[a])&&(o[n[a]]=t[n[a]]);return o};function L(t,e){return e===null||e===!1?null:e||p.createElement(et,{className:`${t}-close-icon`})}const Pt={success:it,info:at,error:nt,warning:ot},q=t=>{const{prefixCls:e,icon:o,type:n,message:a,description:i,actions:s,role:r="alert"}=t;let c=null;return o?c=p.createElement("span",{className:`${e}-icon`},o):n&&(c=p.createElement(Pt[n]||null,{className:P(`${e}-icon`,`${e}-icon-${n}`)})),p.createElement("div",{className:P({[`${e}-with-icon`]:c}),role:r},c,p.createElement("div",{className:`${e}-message`},a),i&&p.createElement("div",{className:`${e}-description`},i),s&&p.createElement("div",{className:`${e}-actions`},s))},It=t=>{const{prefixCls:e,className:o,icon:n,type:a,message:i,description:s,btn:r,actions:c,closable:l=!0,closeIcon:b,className:u}=t,v=xt(t,["prefixCls","className","icon","type","message","description","btn","actions","closable","closeIcon","className"]),{getPrefixCls:O}=p.useContext(H),y=c??r,g=e||O("notification"),$=`${g}-notice`,C=D(g),[m,x,S]=W(g,C);return m(p.createElement("div",{className:P(`${$}-pure-panel`,x,o,S,C)},p.createElement(Ot,{prefixCls:g}),p.createElement(ft,Object.assign({},v,{prefixCls:g,eventKey:"pure",duration:null,closable:l,className:P({notificationClassName:u}),closeIcon:L(g,b),content:p.createElement(q,{prefixCls:$,icon:n,type:a,message:i,description:s,actions:y})}))))};function Nt(t,e,o){let n;switch(t){case"top":n={left:"50%",transform:"translateX(-50%)",right:"auto",top:e,bottom:"auto"};break;case"topLeft":n={left:0,top:e,bottom:"auto"};break;case"topRight":n={right:0,top:e,bottom:"auto"};break;case"bottom":n={left:"50%",transform:"translateX(-50%)",right:"auto",top:"auto",bottom:o};break;case"bottomLeft":n={left:0,top:"auto",bottom:o};break;default:n={right:0,top:"auto",bottom:o};break}return n}function wt(t){return{motionName:`${t}-fade`}}function Et(t,e,o){return typeof t<"u"?t:typeof(e==null?void 0:e.closeIcon)<"u"?e.closeIcon:o==null?void 0:o.closeIcon}var jt=function(t,e){var o={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(o[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,n=Object.getOwnPropertySymbols(t);a<n.length;a++)e.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(t,n[a])&&(o[n[a]]=t[n[a]]);return o};const B=24,Rt=4.5,_t="topRight",Mt=({children:t,prefixCls:e})=>{const o=D(e),[n,a,i]=W(e,o);return n(f.createElement(pt,{classNames:{list:P(a,i,o)}},t))},Ht=(t,{prefixCls:e,key:o})=>f.createElement(Mt,{prefixCls:e,key:o},t),Lt=f.forwardRef((t,e)=>{const{top:o,bottom:n,prefixCls:a,getContainer:i,maxCount:s,rtl:r,onAllRemoved:c,stack:l,duration:b,pauseOnHover:u=!0,showProgress:v}=t,{getPrefixCls:O,getPopupContainer:y,notification:g,direction:$}=p.useContext(H),[,C]=rt(),m=a||O("notification"),x=M=>Nt(M,o??B,n??B),S=()=>P({[`${m}-rtl`]:r??$==="rtl"}),I=()=>wt(m),[d,N]=ut({prefixCls:m,style:x,className:S,motion:I,closable:!0,closeIcon:L(m),duration:b??Rt,getContainer:()=>(i==null?void 0:i())||(y==null?void 0:y())||document.body,maxCount:s,pauseOnHover:u,showProgress:v,onAllRemoved:c,renderNotifications:Ht,stack:l===!1?!1:{threshold:typeof l=="object"?l==null?void 0:l.threshold:void 0,offset:8,gap:C.margin}});return f.useImperativeHandle(e,()=>Object.assign(Object.assign({},d),{prefixCls:m,notification:g})),N});function V(t){const e=f.useRef(null);return ct(),[f.useMemo(()=>{const n=r=>{var c;if(!e.current)return;const{open:l,prefixCls:b,notification:u}=e.current,v=`${b}-notice`,{message:O,description:y,icon:g,type:$,btn:C,actions:m,className:x,style:S,role:I="alert",closeIcon:d,closable:N}=r,M=jt(r,["message","description","icon","type","btn","actions","className","style","role","closeIcon","closable"]),X=m??C,F=L(v,Et(d,t,u));return l(Object.assign(Object.assign({placement:(c=t==null?void 0:t.placement)!==null&&c!==void 0?c:_t},M),{content:f.createElement(q,{prefixCls:v,icon:g,type:$,message:O,description:y,actions:X,role:I}),className:P($&&`${v}-${$}`,x,u==null?void 0:u.className),style:Object.assign(Object.assign({},u==null?void 0:u.style),S),closeIcon:F,closable:N??!!F}))},i={open:n,destroy:r=>{var c,l;r!==void 0?(c=e.current)===null||c===void 0||c.close(r):(l=e.current)===null||l===void 0||l.destroy()}};return["success","info","warning","error"].forEach(r=>{i[r]=c=>n(Object.assign(Object.assign({},c),{type:r}))}),i},[]),f.createElement(Lt,Object.assign({key:"notification-holder"},t,{ref:e}))]}function Tt(t){return V(t)}let h=null,R=t=>t(),_=[],j={};function z(){const{getContainer:t,rtl:e,maxCount:o,top:n,bottom:a,showProgress:i,pauseOnHover:s}=j,r=(t==null?void 0:t())||document.body;return{getContainer:()=>r,rtl:e,maxCount:o,top:n,bottom:a,showProgress:i,pauseOnHover:s}}const Ft=f.forwardRef((t,e)=>{const{notificationConfig:o,sync:n}=t,{getPrefixCls:a}=p.useContext(H),i=j.prefixCls||a("notification"),s=p.useContext(gt),[r,c]=V(Object.assign(Object.assign(Object.assign({},o),{prefixCls:i}),s.notification));return f.useEffect(n,[]),f.useImperativeHandle(e,()=>{const l=Object.assign({},r);return Object.keys(l).forEach(b=>{l[b]=(...u)=>(n(),r[b].apply(r,u))}),{instance:l,sync:n}}),c}),Bt=f.forwardRef((t,e)=>{const[o,n]=f.useState(z),a=()=>{n(z)};f.useEffect(a,[]);const i=dt(),s=i.getRootPrefixCls(),r=i.getIconPrefixCls(),c=i.getTheme(),l=f.createElement(Ft,{ref:e,sync:a,notificationConfig:o});return f.createElement(lt,{prefixCls:s,iconPrefixCls:r,theme:c},i.holderRender?i.holderRender(l):l)}),T=()=>{if(!h){const t=document.createDocumentFragment(),e={fragment:t};h=e,R(()=>{st()(f.createElement(Bt,{ref:n=>{const{instance:a,sync:i}=n||{};Promise.resolve().then(()=>{!e.instance&&a&&(e.instance=a,e.sync=i,T())})}}),t)});return}h.instance&&(_.forEach(t=>{switch(t.type){case"open":{R(()=>{h.instance.open(Object.assign(Object.assign({},j),t.config))});break}case"destroy":R(()=>{var e;(e=h==null?void 0:h.instance)===null||e===void 0||e.destroy(t.key)});break}}),_=[])};function zt(t){j=Object.assign(Object.assign({},j),t),R(()=>{var e;(e=h==null?void 0:h.sync)===null||e===void 0||e.call(h)})}function U(t){_.push({type:"open",config:t}),T()}const Dt=t=>{_.push({type:"destroy",key:t}),T()},At=["success","info","warning","error"],Gt={open:U,destroy:Dt,config:zt,useNotification:Tt,_InternalPanelDoNotUseOrYouWillBeFired:It},kt=Gt;At.forEach(t=>{kt[t]=e=>U(Object.assign(Object.assign({},e),{type:t}))});export{kt as s};
