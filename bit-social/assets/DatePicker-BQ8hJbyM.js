import{r as j,bI as re,bG as ce,a1 as L,bJ as Z,bK as W,as as G,a2 as _,a3 as H,a4 as J,H as x,K,a5 as S,B as F,j as h,D as w,T as D,S as z,aA as q,F as Q,A as X,E as V,J as ne,av as B}from"./main-dull-ducks-itch.js";import{D as le,d as O}from"./index-BRBMVDHS.js";import{$ as he,u as ee}from"./useSocialTemplates-Ee4o2rjm.js";import{P as ue}from"./PlatformIcon-5uzOOYp7.js";import{a as fe}from"./useIntervalTypes-DCRQrJ-M.js";import{a as ge}from"./groupHelper-BtCA9ruZ.js";import{M as te}from"./index-CnHvEbwg.js";import{C as ae}from"./index-2E7xajfE.js";import{T as me}from"./index-BCxQEpEJ.js";import{P as de}from"./index-D8sRa1zN.js";import{F as pe}from"./index-BzgUeqyP.js";import{I as be}from"./index-DmutE1JF.js";var Ce=function(e,t){var i={};for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&t.indexOf(s)<0&&(i[s]=e[s]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var u=0,s=Object.getOwnPropertySymbols(e);u<s.length;u++)t.indexOf(s[u])<0&&Object.prototype.propertyIsEnumerable.call(e,s[u])&&(i[s[u]]=e[s[u]]);return i};const{TimePicker:Te,RangePicker:ve}=le,$e=j.forwardRef((e,t)=>j.createElement(ve,Object.assign({},e,{picker:"time",mode:void 0,ref:t}))),E=j.forwardRef((e,t)=>{var{addon:i,renderExtraFooter:s,variant:u,bordered:v}=e,g=Ce(e,["addon","renderExtraFooter","variant","bordered"]);const[p]=re("timePicker",u,v),o=j.useMemo(()=>{if(s)return s;if(i)return i},[i,s]);return j.createElement(Te,Object.assign({},g,{mode:void 0,ref:t,renderExtraFooter:o,variant:p}))}),se=ce(E,"popupAlign",void 0,"picker");E._InternalPanelDoNotUseOrYouWillBeFired=se;E.RangePicker=$e;E._InternalPanelDoNotUseOrYouWillBeFired=se;globalThis.jotaiAtomCache=globalThis.jotaiAtomCache||{cache:new Map,get(e,t){return this.cache.has(e)?this.cache.get(e):(this.cache.set(e,t),t)}};const R=globalThis.jotaiAtomCache.get("/home/runner/work/bit-social/bit-social/frontend/src/common/globalStates/$createScheduleModal.ts/$createScheduleModal",L({open:!1,type:"create"}));R.debugLabel="$createScheduleModal";var oe={exports:{}};(function(e,t){(function(i,s){e.exports=s()})(Z,function(){var i={year:0,month:1,day:2,hour:3,minute:4,second:5},s={};return function(u,v,g){var p,o=function(r,l,c){c===void 0&&(c={});var a=new Date(r),f=function(b,C){C===void 0&&(C={});var d=C.timeZoneName||"short",$=b+"|"+d,T=s[$];return T||(T=new Intl.DateTimeFormat("en-US",{hour12:!1,timeZone:b,year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit",timeZoneName:d}),s[$]=T),T}(l,c);return f.formatToParts(a)},k=function(r,l){for(var c=o(r,l),a=[],f=0;f<c.length;f+=1){var b=c[f],C=b.type,d=b.value,$=i[C];$>=0&&(a[$]=parseInt(d,10))}var T=a[3],M=T===24?0:T,A=a[0]+"-"+a[1]+"-"+a[2]+" "+M+":"+a[4]+":"+a[5]+":000",P=+r;return(g.utc(A).valueOf()-(P-=P%1e3))/6e4},n=v.prototype;n.tz=function(r,l){r===void 0&&(r=p);var c,a=this.utcOffset(),f=this.toDate(),b=f.toLocaleString("en-US",{timeZone:r}),C=Math.round((f-new Date(b))/1e3/60),d=15*-Math.round(f.getTimezoneOffset()/15)-C;if(!Number(d))c=this.utcOffset(0,l);else if(c=g(b,{locale:this.$L}).$set("millisecond",this.$ms).utcOffset(d,!0),l){var $=c.utcOffset();c=c.add(a-$,"minute")}return c.$x.$timezone=r,c},n.offsetName=function(r){var l=this.$x.$timezone||g.tz.guess(),c=o(this.valueOf(),l,{timeZoneName:r}).find(function(a){return a.type.toLowerCase()==="timezonename"});return c&&c.value};var m=n.startOf;n.startOf=function(r,l){if(!this.$x||!this.$x.$timezone)return m.call(this,r,l);var c=g(this.format("YYYY-MM-DD HH:mm:ss:SSS"),{locale:this.$L});return m.call(c,r,l).tz(this.$x.$timezone,!0)},g.tz=function(r,l,c){var a=c&&l,f=c||l||p,b=k(+g(),f);if(typeof r!="string")return g(r).tz(f);var C=function(M,A,P){var I=M-60*A*1e3,y=k(I,P);if(A===y)return[I,A];var N=k(I-=60*(y-A)*1e3,P);return y===N?[I,y]:[M-60*Math.min(y,N)*1e3,Math.max(y,N)]}(g.utc(r,a).valueOf(),b,f),d=C[0],$=C[1],T=g(d).utcOffset($);return T.$x.$timezone=f,T},g.tz.guess=function(){return Intl.DateTimeFormat().resolvedOptions().timeZone},g.tz.setDefault=function(r){p=r}}})})(oe);var Ae=oe.exports;const ke=W(Ae);var ie={exports:{}};(function(e,t){(function(i,s){e.exports=s()})(Z,function(){var i="minute",s=/[+-]\d\d(?::?\d\d)?/g,u=/([+-]|\d\d)/g;return function(v,g,p){var o=g.prototype;p.utc=function(a){var f={date:a,utc:!0,args:arguments};return new g(f)},o.utc=function(a){var f=p(this.toDate(),{locale:this.$L,utc:!0});return a?f.add(this.utcOffset(),i):f},o.local=function(){return p(this.toDate(),{locale:this.$L,utc:!1})};var k=o.parse;o.parse=function(a){a.utc&&(this.$u=!0),this.$utils().u(a.$offset)||(this.$offset=a.$offset),k.call(this,a)};var n=o.init;o.init=function(){if(this.$u){var a=this.$d;this.$y=a.getUTCFullYear(),this.$M=a.getUTCMonth(),this.$D=a.getUTCDate(),this.$W=a.getUTCDay(),this.$H=a.getUTCHours(),this.$m=a.getUTCMinutes(),this.$s=a.getUTCSeconds(),this.$ms=a.getUTCMilliseconds()}else n.call(this)};var m=o.utcOffset;o.utcOffset=function(a,f){var b=this.$utils().u;if(b(a))return this.$u?0:b(this.$offset)?m.call(this):this.$offset;if(typeof a=="string"&&(a=function(T){T===void 0&&(T="");var M=T.match(s);if(!M)return null;var A=(""+M[0]).match(u)||["-",0,0],P=A[0],I=60*+A[1]+ +A[2];return I===0?0:P==="+"?I:-I}(a),a===null))return this;var C=Math.abs(a)<=16?60*a:a,d=this;if(f)return d.$offset=C,d.$u=a===0,d;if(a!==0){var $=this.$u?this.toDate().getTimezoneOffset():-1*this.utcOffset();(d=this.local().add(C+$,i)).$offset=C,d.$x.$localOffset=$}else d=this.utc();return d};var r=o.format;o.format=function(a){var f=a||(this.$u?"YYYY-MM-DDTHH:mm:ss[Z]":"");return r.call(this,f)},o.valueOf=function(){var a=this.$utils().u(this.$offset)?0:this.$offset+(this.$x.$localOffset||this.$d.getTimezoneOffset());return this.$d.valueOf()-6e4*a},o.isUTC=function(){return!!this.$u},o.toISOString=function(){return this.toDate().toISOString()},o.toString=function(){return this.toDate().toUTCString()};var l=o.toDate;o.toDate=function(a){return a==="s"&&this.$offset?p(this.format("YYYY-MM-DD HH:mm:ss:SSS")).toDate():l.call(this)};var c=o.diff;o.diff=function(a,f,b){if(a&&this.$u===a.$u)return c.call(this,a,f,b);var C=this.local(),d=p(a).local();return c.call(C,d,f,b)}}})})(ie);var je=ie.exports;const Ie=W(je);globalThis.jotaiAtomCache=globalThis.jotaiAtomCache||{cache:new Map,get(e,t){return this.cache.has(e)?this.cache.get(e):(this.cache.set(e,t),t)}};const we=globalThis.jotaiAtomCache.get("/home/runner/work/bit-social/bit-social/frontend/src/common/globalStates/$scheduleModalData.ts/$scheduleModalData",L({open:!1,type:"create"}));we.debugLabel="$scheduleModalData";const Me=globalThis.jotaiAtomCache.get("/home/runner/work/bit-social/bit-social/frontend/src/common/globalStates/$scheduleModalData.ts/$searchText",L(""));Me.debugLabel="$searchText";O.extend(Ie);O.extend(ke);const{timeZone:Pe}=_(H),ye=_(he),Se=O(G(Pe)).format("YYYY-MM-DD HH:mm:ss"),De=e=>({bluesky:{comment:e.bluesky.comment,content:e.bluesky.content,isAllImages:!1,isFeaturedImage:!1,isLinkCard:!1,isProductImage:!1},discord:{content:e.discord.content,isAllImages:!1,isFeaturedImage:!0,isLinkCard:!1,isProductImage:!1},facebook:{content:e.facebook.content,isAllImages:!1,isFeaturedImage:!1,isLinkCard:!1,isProductImage:!1,isVideo:!1},googleBusinessProfile:{button:"none",content:e.googleBusinessProfile.content,isAllImages:!1,isFeaturedImage:!1,isLinkCard:!1,isProductImage:!1},instagram:{comment:e.instagram.comment,content:e.instagram.content,isAllImages:!1,isFeaturedImage:!1,isProductImage:!1,isVideo:!1},line:{content:e.bluesky.content,isAllImages:!1,isFeaturedImage:!1,isLinkCard:!1,isProductImage:!1},linkedin:{content:e.linkedin.content,isAllImages:!1,isFeaturedImage:!1,isLinkCard:!1,isProductImage:!1,isVideo:!1},pinterest:{content:e.pinterest.content,isAllImages:!1,isFeaturedImage:!0,isLinkCard:!1,isProductImage:!1},telegram:{content:e.telegram.content,isAllImages:!1,isFeaturedImage:!1,isLinkCard:!1,isProductImage:!1},tiktok:{allowComment:!0,content:e.tiktok.content,duet:!1,edit:!1,media:[],privacyLevel:"PUBLIC_TO_EVERYONE",stitch:!1},tumblr:{content:e.tumblr.content,isAllImages:!1,isFeaturedImage:!1,isLinkCard:!1,isProductImage:!1,isVideo:!1},twitter:{content:e.twitter.content,isAllImages:!1,isFeaturedImage:!1,isLinkCard:!1,isProductImage:!1}}),xe=e=>({accounts:{accountIds:[],groupIds:[]},post_filters:{filter_by_days:"0",post_type:"post"},settings:{name:"Untitled schedule",post_interval_type:"hour",post_interval_value:1,post_publish_order:"4",started_at:Se},templates:De(e)}),U=globalThis.jotaiAtomCache.get("/home/runner/work/bit-social/bit-social/frontend/src/common/globalStates/$scheduleModalData.ts/$scheduleData",L(xe(ye)));U.debugLabel="$scheduleData";globalThis.jotaiAtomCache=globalThis.jotaiAtomCache||{cache:new Map,get(e,t){return this.cache.has(e)?this.cache.get(e):(this.cache.set(e,t),t)}};const Fe=globalThis.jotaiAtomCache.get("/home/runner/work/bit-social/bit-social/frontend/src/common/globalStates/$scheduleErrors.ts/$scheduleErrors",L({}));Fe.debugLabel="$scheduleErrors";globalThis.jotaiAtomCache=globalThis.jotaiAtomCache||{cache:new Map,get(e,t){return this.cache.has(e)?this.cache.get(e):(this.cache.set(e,t),t)}};const Y={isAllImages:{name:"All Images",tooltip:"Enable to the post all images shared"},isFeaturedImage:{name:"Featured Image",tooltip:"Enable to the post featured image shared"},isLinkCard:{name:"Link Card",tooltip:"Enable to the post link shared as a card"},isProductImage:{name:"Product Image",tooltip:"Enable to the product image shared"},isVideo:{name:"Video",tooltip:"Enable to the post video shared"}};globalThis.jotaiAtomCache=globalThis.jotaiAtomCache||{cache:new Map,get(e,t){return this.cache.has(e)?this.cache.get(e):(this.cache.set(e,t),t)}};function Oe(){const[e,t]=J(U),i=x(R),{isProClient:s}=x(K),{socialTemplates:u}=ee(),v=n=>{t(m=>S(m,r=>{r.templates.facebook.content=n}))},o=s?["isFeaturedImage","isProductImage","isLinkCard","isAllImages"]:["isFeaturedImage","isLinkCard"],k=(n,m)=>{t(r=>S(r,l=>{o.forEach(c=>{l.templates.facebook[c]=!1}),l.templates.facebook[n]=m}))};return j.useEffect(()=>{if(!(u!=null&&u.facebook)||i.type!=="create")return;const{content:n,postingType:m}=u.facebook;m!=="onlyMessage"&&t(r=>S(r,l=>{o.forEach(c=>{l.templates.facebook[c]=!1}),l.templates.facebook[m]=!0,l.templates.facebook.content=n}))},[u==null?void 0:u.facebook]),F(Q,{children:[h(te,{label:w("Customize post message"),onChange:v,rows:6,value:e.templates.facebook.content,wrapperClassName:"mb-4"}),h(D.Title,{level:5,children:w("Media")}),h(z,{className:"mb-3",wrap:!0,children:o==null?void 0:o.map(n=>h(q,{title:Y[n].tooltip,children:h(ae,{checked:e.templates.facebook[n],onChange:m=>{k(n,m.target.checked)},children:Y[n].name})},n))})]})}globalThis.jotaiAtomCache=globalThis.jotaiAtomCache||{cache:new Map,get(e,t){return this.cache.has(e)?this.cache.get(e):(this.cache.set(e,t),t)}};function Le(){const[e,t]=J(U),i=x(R),{socialTemplates:s}=ee(),{isProClient:u}=x(K),v=n=>{t(m=>S(m,r=>{r.templates.linkedin.content=n}))},o=u?["isFeaturedImage","isProductImage","isLinkCard","isAllImages"]:["isFeaturedImage","isLinkCard"],k=(n,m)=>{t(r=>S(r,l=>{o.forEach(c=>{l.templates.linkedin[c]=!1}),l.templates.linkedin[n]=m}))};return j.useEffect(()=>{if(!(s!=null&&s.linkedin)||i.type!=="create")return;const{content:n,postingType:m}=s.linkedin;m!=="onlyMessage"&&t(r=>S(r,l=>{o.forEach(c=>{l.templates.linkedin[c]=!1}),l.templates.linkedin[m]=!0,l.templates.linkedin.content=n}))},[s==null?void 0:s.linkedin]),F(Q,{children:[h(te,{label:w("Customize post message"),onChange:v,rows:6,value:e.templates.linkedin.content,wrapperClassName:"mb-4"}),h(D.Title,{level:5,children:w("Media")}),h(z,{className:"mb-3",wrap:!0,children:h(z,{className:"mb-3",wrap:!0,children:o==null?void 0:o.map(n=>h(q,{title:Y[n].tooltip,children:h(ae,{checked:e.templates.linkedin[n],onChange:m=>{k(n,m.target.checked)},children:Y[n].name})},n))})})]})}globalThis.jotaiAtomCache=globalThis.jotaiAtomCache||{cache:new Map,get(e,t){return this.cache.has(e)?this.cache.get(e):(this.cache.set(e,t),t)}};function Ee({platform:e}){switch(e){case"facebook":return h(Oe,{});case"linkedin":return h(Le,{})}}globalThis.jotaiAtomCache=globalThis.jotaiAtomCache||{cache:new Map,get(e,t){return this.cache.has(e)?this.cache.get(e):(this.cache.set(e,t),t)}};globalThis.jotaiAtomCache=globalThis.jotaiAtomCache||{cache:new Map,get(e,t){return this.cache.has(e)?this.cache.get(e):(this.cache.set(e,t),t)}};globalThis.jotaiAtomCache=globalThis.jotaiAtomCache||{cache:new Map,get(e,t){return this.cache.has(e)?this.cache.get(e):(this.cache.set(e,t),t)}};globalThis.jotaiAtomCache=globalThis.jotaiAtomCache||{cache:new Map,get(e,t){return this.cache.has(e)?this.cache.get(e):(this.cache.set(e,t),t)}};globalThis.jotaiAtomCache=globalThis.jotaiAtomCache||{cache:new Map,get(e,t){return this.cache.has(e)?this.cache.get(e):(this.cache.set(e,t),t)}};globalThis.jotaiAtomCache=globalThis.jotaiAtomCache||{cache:new Map,get(e,t){return this.cache.has(e)?this.cache.get(e):(this.cache.set(e,t),t)}};globalThis.jotaiAtomCache=globalThis.jotaiAtomCache||{cache:new Map,get(e,t){return this.cache.has(e)?this.cache.get(e):(this.cache.set(e,t),t)}};globalThis.jotaiAtomCache=globalThis.jotaiAtomCache||{cache:new Map,get(e,t){return this.cache.has(e)?this.cache.get(e):(this.cache.set(e,t),t)}};const ut=e=>({name:e.filename,uid:e.id,url:e.url});globalThis.jotaiAtomCache=globalThis.jotaiAtomCache||{cache:new Map,get(e,t){return this.cache.has(e)?this.cache.get(e):(this.cache.set(e,t),t)}};const{Title:ft}=D;globalThis.jotaiAtomCache=globalThis.jotaiAtomCache||{cache:new Map,get(e,t){return this.cache.has(e)?this.cache.get(e):(this.cache.set(e,t),t)}};globalThis.jotaiAtomCache=globalThis.jotaiAtomCache||{cache:new Map,get(e,t){return this.cache.has(e)?this.cache.get(e):(this.cache.set(e,t),t)}};globalThis.jotaiAtomCache=globalThis.jotaiAtomCache||{cache:new Map,get(e,t){return this.cache.has(e)?this.cache.get(e):(this.cache.set(e,t),t)}};globalThis.jotaiAtomCache=globalThis.jotaiAtomCache||{cache:new Map,get(e,t){return this.cache.has(e)?this.cache.get(e):(this.cache.set(e,t),t)}};function ze({platform:e}){return h(Ee,{platform:e})}globalThis.jotaiAtomCache=globalThis.jotaiAtomCache||{cache:new Map,get(e,t){return this.cache.has(e)?this.cache.get(e):(this.cache.set(e,t),t)}};const Ye=(e,t)=>[...new Set(e==null?void 0:e.filter(i=>t==null?void 0:t.includes(i.id)).map(i=>i.platform))],_e=e=>e.map(t=>({children:h(ze,{platform:t}),key:t,label:h("span",{title:t,children:h(ue,{name:t,size:32})})}));function gt(){const e=x(U),{activeAccounts:t}=fe(),{groups:i}=ge(),s=j.useMemo(()=>{const u=e.accounts.accountIds,v=[],g=[...u,...v],p=Ye(t,g);return _e(p)},[t,i,e.accounts.groupIds,e.accounts.accountIds]);return!s||!s.length?h(D.Title,{level:4,style:{textAlign:"center"},type:"secondary",children:w("Please select an account")}):h(me,{items:s,tabBarGutter:8})}const Ue=""+new URL("bit-social-ba-assets-353.svg",import.meta.url).href;globalThis.jotaiAtomCache=globalThis.jotaiAtomCache||{cache:new Map,get(e,t){return this.cache.has(e)?this.cache.get(e):(this.cache.set(e,t),t)}};const{Link:Ne,Title:He}=D;function Be(){const{token:e}=X.useToken(),[t,i]=j.useState(!1);return h(de,{content:h(be,{preview:!1,src:Ue,width:400}),onOpenChange:u=>{i(u)},open:t,placement:"bottomRight",title:F(pe,{align:"center",justify:"space-between",children:[h(He,{level:5,style:{color:e.colorPrimary,marginBottom:0},children:w("Advance Schedule Feature on Pro!")}),h(Ne,{href:"https://bit-social.com/#pricing",rel:"noopener noreferrer nofollow",strong:!0,style:{whiteSpace:"nowrap"},target:"_blank",children:h(V,{size:"small",type:"primary",children:w("Buy Pro")})})]}),trigger:"click",children:F(V,{style:{borderColor:e.colorPrimary},type:"text",children:[w("Advance Schedule")," ",h(ne,{color:"#ff8609",size:18})]})})}globalThis.jotaiAtomCache=globalThis.jotaiAtomCache||{cache:new Map,get(e,t){return this.cache.has(e)?this.cache.get(e):(this.cache.set(e,t),t)}};const{dateFormat:Re,timeFormat:Ve,timeZone:Ze}=_(H),We=B(Ve),Ge=B(Re);function Je({handleOnClear:e,onChangeDate:t,stateData:i,type:s}){var v,g,p;const{token:u}=X.useToken();return F(z,{children:[h(D.Text,{style:{border:`1px solid ${u.colorBorder}`,borderRadius:"9px",cursor:"not-allowed",fontSize:"14px",padding:"5px 15px"},children:O(((v=i==null?void 0:i.settings)==null?void 0:v.started_at)||G(Ze)).format(Ge)}),h(E,{allowClear:s==="SHARENOW",format:We,onChange:s==="SHARENOW"?e:void 0,onOk:t("started_at"),showNow:!1,showSecond:!1,value:(g=i.settings)!=null&&g.started_at?O((p=i.settings)==null?void 0:p.started_at,"YYYY-MM-DD HH:mm:ss"):void 0}),h(Be,{})]})}globalThis.jotaiAtomCache=globalThis.jotaiAtomCache||{cache:new Map,get(e,t){return this.cache.has(e)?this.cache.get(e):(this.cache.set(e,t),t)}};const{dateFormat:Ke,timeFormat:qe}=_(H),Qe=`${Ke} ${qe}`;B(Qe);globalThis.jotaiAtomCache=globalThis.jotaiAtomCache||{cache:new Map,get(e,t){return this.cache.has(e)?this.cache.get(e):(this.cache.set(e,t),t)}};function mt({handleOnClear:e,onChangeDate:t,stateData:i,type:s}){return h(Je,{handleOnClear:e,onChangeDate:t,stateData:i,type:s})}export{R as $,mt as D,gt as T,U as a,Me as b,Fe as c,E as d,xe as e,Ye as g,ut as p,ke as t,Ie as u};
