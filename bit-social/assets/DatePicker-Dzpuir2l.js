import{r as w,bn as ie,bl as re,bo as V,bp as Z,V as z,R as Y,U as N,a8 as W,W as G,D as H,E as q,X as D,y as x,j as n,z as I,T as S,ag as X,S as E,F as J,x as K,B,L as ne,aa as R}from"./main-spicy-waves-pick.js";import{D as ce,d as O}from"./index-CTSv48z8.js";import{$ as le,u as Q}from"./useSocialTemplates-xIm6yCKT.js";import{P as he}from"./PlatformIcon-DFnVv2U9.js";import{a as ue}from"./useIntervalTypes-DuSeMjY8.js";import{a as fe}from"./groupHelper-Q2Z6h_Y0.js";import{M as ee}from"./index-YNVrR30_.js";import{C as te}from"./index-Cw0BNdRS.js";import{T as me}from"./index-BYnHC1Cu.js";import{I as ge}from"./index-CD23ddFt.js";import{F as de}from"./index-BR9ObBWj.js";import{P as pe}from"./index-CZOxyE_6.js";var be=function(e,t){var s={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(s[o]=e[o]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var d=0,o=Object.getOwnPropertySymbols(e);d<o.length;d++)t.indexOf(o[d])<0&&Object.prototype.propertyIsEnumerable.call(e,o[d])&&(s[o[d]]=e[o[d]]);return s};const{TimePicker:Te,RangePicker:Ce}=ce,ve=w.forwardRef((e,t)=>w.createElement(Ce,Object.assign({},e,{picker:"time",mode:void 0,ref:t}))),F=w.forwardRef((e,t)=>{var{addon:s,renderExtraFooter:o,variant:d,bordered:k}=e,g=be(e,["addon","renderExtraFooter","variant","bordered"]);const[c]=ie("timePicker",d,k),l=w.useMemo(()=>{if(o)return o;if(s)return s},[s,o]);return w.createElement(Te,Object.assign({},g,{mode:void 0,ref:t,renderExtraFooter:l,variant:c}))}),ae=re(F,"picker");F._InternalPanelDoNotUseOrYouWillBeFired=ae;F.RangePicker=ve;F._InternalPanelDoNotUseOrYouWillBeFired=ae;var oe={exports:{}};(function(e,t){(function(s,o){e.exports=o()})(V,function(){var s={year:0,month:1,day:2,hour:3,minute:4,second:5},o={};return function(d,k,g){var c,l=function(i,m,u){u===void 0&&(u={});var a=new Date(i),h=function(T,C){C===void 0&&(C={});var p=C.timeZoneName||"short",$=T+"|"+p,v=o[$];return v||(v=new Intl.DateTimeFormat("en-US",{hour12:!1,timeZone:T,year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit",timeZoneName:p}),o[$]=v),v}(m,u);return h.formatToParts(a)},r=function(i,m){for(var u=l(i,m),a=[],h=0;h<u.length;h+=1){var T=u[h],C=T.type,p=T.value,$=s[C];$>=0&&(a[$]=parseInt(p,10))}var v=a[3],j=v===24?0:v,A=a[0]+"-"+a[1]+"-"+a[2]+" "+j+":"+a[4]+":"+a[5]+":000",M=+i;return(g.utc(A).valueOf()-(M-=M%1e3))/6e4},f=k.prototype;f.tz=function(i,m){i===void 0&&(i=c);var u,a=this.utcOffset(),h=this.toDate(),T=h.toLocaleString("en-US",{timeZone:i}),C=Math.round((h-new Date(T))/1e3/60),p=15*-Math.round(h.getTimezoneOffset()/15)-C;if(!Number(p))u=this.utcOffset(0,m);else if(u=g(T,{locale:this.$L}).$set("millisecond",this.$ms).utcOffset(p,!0),m){var $=u.utcOffset();u=u.add(a-$,"minute")}return u.$x.$timezone=i,u},f.offsetName=function(i){var m=this.$x.$timezone||g.tz.guess(),u=l(this.valueOf(),m,{timeZoneName:i}).find(function(a){return a.type.toLowerCase()==="timezonename"});return u&&u.value};var b=f.startOf;f.startOf=function(i,m){if(!this.$x||!this.$x.$timezone)return b.call(this,i,m);var u=g(this.format("YYYY-MM-DD HH:mm:ss:SSS"),{locale:this.$L});return b.call(u,i,m).tz(this.$x.$timezone,!0)},g.tz=function(i,m,u){var a=u&&m,h=u||m||c,T=r(+g(),h);if(typeof i!="string")return g(i).tz(h);var C=function(j,A,M){var P=j-60*A*1e3,y=r(P,M);if(A===y)return[P,A];var U=r(P-=60*(y-A)*1e3,M);return y===U?[P,y]:[j-60*Math.min(y,U)*1e3,Math.max(y,U)]}(g.utc(i,a).valueOf(),T,h),p=C[0],$=C[1],v=g(p).utcOffset($);return v.$x.$timezone=h,v},g.tz.guess=function(){return Intl.DateTimeFormat().resolvedOptions().timeZone},g.tz.setDefault=function(i){c=i}}})})(oe);var $e=oe.exports;const ke=Z($e);var se={exports:{}};(function(e,t){(function(s,o){e.exports=o()})(V,function(){var s="minute",o=/[+-]\d\d(?::?\d\d)?/g,d=/([+-]|\d\d)/g;return function(k,g,c){var l=g.prototype;c.utc=function(a){var h={date:a,utc:!0,args:arguments};return new g(h)},l.utc=function(a){var h=c(this.toDate(),{locale:this.$L,utc:!0});return a?h.add(this.utcOffset(),s):h},l.local=function(){return c(this.toDate(),{locale:this.$L,utc:!1})};var r=l.parse;l.parse=function(a){a.utc&&(this.$u=!0),this.$utils().u(a.$offset)||(this.$offset=a.$offset),r.call(this,a)};var f=l.init;l.init=function(){if(this.$u){var a=this.$d;this.$y=a.getUTCFullYear(),this.$M=a.getUTCMonth(),this.$D=a.getUTCDate(),this.$W=a.getUTCDay(),this.$H=a.getUTCHours(),this.$m=a.getUTCMinutes(),this.$s=a.getUTCSeconds(),this.$ms=a.getUTCMilliseconds()}else f.call(this)};var b=l.utcOffset;l.utcOffset=function(a,h){var T=this.$utils().u;if(T(a))return this.$u?0:T(this.$offset)?b.call(this):this.$offset;if(typeof a=="string"&&(a=function(v){v===void 0&&(v="");var j=v.match(o);if(!j)return null;var A=(""+j[0]).match(d)||["-",0,0],M=A[0],P=60*+A[1]+ +A[2];return P===0?0:M==="+"?P:-P}(a),a===null))return this;var C=Math.abs(a)<=16?60*a:a,p=this;if(h)return p.$offset=C,p.$u=a===0,p;if(a!==0){var $=this.$u?this.toDate().getTimezoneOffset():-1*this.utcOffset();(p=this.local().add(C+$,s)).$offset=C,p.$x.$localOffset=$}else p=this.utc();return p};var i=l.format;l.format=function(a){var h=a||(this.$u?"YYYY-MM-DDTHH:mm:ss[Z]":"");return i.call(this,h)},l.valueOf=function(){var a=this.$utils().u(this.$offset)?0:this.$offset+(this.$x.$localOffset||this.$d.getTimezoneOffset());return this.$d.valueOf()-6e4*a},l.isUTC=function(){return!!this.$u},l.toISOString=function(){return this.toDate().toISOString()},l.toString=function(){return this.toDate().toUTCString()};var m=l.toDate;l.toDate=function(a){return a==="s"&&this.$offset?c(this.format("YYYY-MM-DD HH:mm:ss:SSS")).toDate():m.call(this)};var u=l.diff;l.diff=function(a,h,T){if(a&&this.$u===a.$u)return u.call(this,a,h,T);var C=this.local(),p=c(a).local();return u.call(C,p,h,T)}}})})(se);var Ae=se.exports;const we=Z(Ae);globalThis.jotaiAtomCache=globalThis.jotaiAtomCache||{cache:new Map,get(e,t){return this.cache.has(e)?this.cache.get(e):(this.cache.set(e,t),t)}};const Pe=globalThis.jotaiAtomCache.get("/home/runner/work/bit-social/bit-social/frontend/src/common/globalStates/$scheduleModalData.ts/$scheduleModalData",z({open:!1,type:"Create"}));Pe.debugLabel="$scheduleModalData";const Ie=globalThis.jotaiAtomCache.get("/home/runner/work/bit-social/bit-social/frontend/src/common/globalStates/$scheduleModalData.ts/$searchText",z(""));Ie.debugLabel="$searchText";O.extend(we);O.extend(ke);const{timeZone:je}=Y(N),Me=Y(le),ye=O(W(je)).format("YYYY-MM-DD HH:mm:ss"),De=e=>({discord:{content:e.discord.content,isAllImages:!1,isFeaturedImage:!0,isLinkCard:!1,isProductImage:!1},facebook:{content:e.facebook.content,isAllImages:!1,isFeaturedImage:!1,isLinkCard:!1,isProductImage:!1,isVideo:!1},googleBusinessProfile:{button:"none",content:e.googleBusinessProfile.content,isAllImages:!1,isFeaturedImage:!1,isLinkCard:!1,isProductImage:!1},instagram:{comment:e.instagram.comment,content:e.instagram.content,isAllImages:!1,isFeaturedImage:!1,isProductImage:!1,isVideo:!1},linkedin:{content:e.linkedin.content,isAllImages:!1,isFeaturedImage:!1,isLinkCard:!1,isProductImage:!1,isVideo:!1},pinterest:{content:e.pinterest.content,isAllImages:!1,isFeaturedImage:!0,isLinkCard:!1,isProductImage:!1},tumblr:{content:e.tumblr.content,isAllImages:!1,isFeaturedImage:!1,isLinkCard:!1,isProductImage:!1,isVideo:!1},twitter:{content:e.twitter.content,isAllImages:!1,isFeaturedImage:!1,isLinkCard:!1,isProductImage:!1}}),xe=e=>({accounts:{accountIds:[],groupIds:[]},post_filters:{filter_by_days:"0",post_type:"post"},settings:{name:"Untitled schedule",post_interval_type:"hour",post_interval_value:1,post_publish_order:"4",started_at:ye},templates:De(e)}),_=globalThis.jotaiAtomCache.get("/home/runner/work/bit-social/bit-social/frontend/src/common/globalStates/$scheduleModalData.ts/$scheduleData",z(xe(Me)));_.debugLabel="$scheduleData";globalThis.jotaiAtomCache=globalThis.jotaiAtomCache||{cache:new Map,get(e,t){return this.cache.has(e)?this.cache.get(e):(this.cache.set(e,t),t)}};const Oe=globalThis.jotaiAtomCache.get("/home/runner/work/bit-social/bit-social/frontend/src/common/globalStates/$scheduleErrors.ts/$scheduleErrors",z({}));Oe.debugLabel="$scheduleErrors";globalThis.jotaiAtomCache=globalThis.jotaiAtomCache||{cache:new Map,get(e,t){return this.cache.has(e)?this.cache.get(e):(this.cache.set(e,t),t)}};const L={isAllImages:{name:"All Images",tooltip:"Enable to the post all images shared"},isFeaturedImage:{name:"Featured Image",tooltip:"Enable to the post featured image shared"},isLinkCard:{name:"Link Card",tooltip:"Enable to the post link shared as a card"},isProductImage:{name:"Product Image",tooltip:"Enable to the product image shared"},isVideo:{name:"Video",tooltip:"Enable to the post video shared"}};globalThis.jotaiAtomCache=globalThis.jotaiAtomCache||{cache:new Map,get(e,t){return this.cache.has(e)?this.cache.get(e):(this.cache.set(e,t),t)}};function Se(){const[e,t]=G(_),{isProClient:s}=H(q),{socialTemplates:o}=Q(),d=r=>{t(f=>D(f,b=>{b.templates.facebook.content=r}))},c=s?["isFeaturedImage","isProductImage","isLinkCard","isAllImages"]:["isFeaturedImage","isLinkCard"],l=(r,f)=>{t(b=>D(b,i=>{c.forEach(m=>{i.templates.facebook[m]=!1}),i.templates.facebook[r]=f}))};return w.useEffect(()=>{if(!(o!=null&&o.facebook)||e.id)return;const{content:r,postingType:f}=o.facebook;f!=="onlyMessage"&&t(b=>D(b,i=>{c.forEach(m=>{i.templates.facebook[m]=!1}),i.templates.facebook[f]=!0,i.templates.facebook.content=r}))},[o==null?void 0:o.facebook]),x(J,{children:[n(ee,{label:I("Customize post message"),onChange:d,rows:6,value:e.templates.facebook.content,wrapperClassName:"mb-4"}),n(S.Title,{level:5,children:I("Media")}),n(E,{className:"mb-3",wrap:!0,children:c==null?void 0:c.map(r=>n(X,{title:L[r].tooltip,children:n(te,{checked:e.templates.facebook[r],onChange:f=>{l(r,f.target.checked)},children:L[r].name})},r))})]})}globalThis.jotaiAtomCache=globalThis.jotaiAtomCache||{cache:new Map,get(e,t){return this.cache.has(e)?this.cache.get(e):(this.cache.set(e,t),t)}};function Fe(){const[e,t]=G(_),{socialTemplates:s}=Q(),{isProClient:o}=H(q),d=r=>{t(f=>D(f,b=>{b.templates.linkedin.content=r}))},c=o?["isFeaturedImage","isProductImage","isLinkCard","isAllImages"]:["isFeaturedImage","isLinkCard"],l=(r,f)=>{t(b=>D(b,i=>{c.forEach(m=>{i.templates.linkedin[m]=!1}),i.templates.linkedin[r]=f}))};return w.useEffect(()=>{if(!(s!=null&&s.linkedin)||e.id)return;const{content:r,postingType:f}=s.linkedin;f!=="onlyMessage"&&t(b=>D(b,i=>{c.forEach(m=>{i.templates.linkedin[m]=!1}),i.templates.linkedin[f]=!0,i.templates.linkedin.content=r}))},[s==null?void 0:s.linkedin]),x(J,{children:[n(ee,{label:I("Customize post message"),onChange:d,rows:6,value:e.templates.linkedin.content,wrapperClassName:"mb-4"}),n(S.Title,{level:5,children:I("Media")}),n(E,{className:"mb-3",wrap:!0,children:n(E,{className:"mb-3",wrap:!0,children:c==null?void 0:c.map(r=>n(X,{title:L[r].tooltip,children:n(te,{checked:e.templates.linkedin[r],onChange:f=>{l(r,f.target.checked)},children:L[r].name})},r))})})]})}globalThis.jotaiAtomCache=globalThis.jotaiAtomCache||{cache:new Map,get(e,t){return this.cache.has(e)?this.cache.get(e):(this.cache.set(e,t),t)}};function Ee({platform:e}){switch(e){case"facebook":return n(Se,{});case"linkedin":return n(Fe,{})}}globalThis.jotaiAtomCache=globalThis.jotaiAtomCache||{cache:new Map,get(e,t){return this.cache.has(e)?this.cache.get(e):(this.cache.set(e,t),t)}};globalThis.jotaiAtomCache=globalThis.jotaiAtomCache||{cache:new Map,get(e,t){return this.cache.has(e)?this.cache.get(e):(this.cache.set(e,t),t)}};globalThis.jotaiAtomCache=globalThis.jotaiAtomCache||{cache:new Map,get(e,t){return this.cache.has(e)?this.cache.get(e):(this.cache.set(e,t),t)}};globalThis.jotaiAtomCache=globalThis.jotaiAtomCache||{cache:new Map,get(e,t){return this.cache.has(e)?this.cache.get(e):(this.cache.set(e,t),t)}};globalThis.jotaiAtomCache=globalThis.jotaiAtomCache||{cache:new Map,get(e,t){return this.cache.has(e)?this.cache.get(e):(this.cache.set(e,t),t)}};globalThis.jotaiAtomCache=globalThis.jotaiAtomCache||{cache:new Map,get(e,t){return this.cache.has(e)?this.cache.get(e):(this.cache.set(e,t),t)}};globalThis.jotaiAtomCache=globalThis.jotaiAtomCache||{cache:new Map,get(e,t){return this.cache.has(e)?this.cache.get(e):(this.cache.set(e,t),t)}};globalThis.jotaiAtomCache=globalThis.jotaiAtomCache||{cache:new Map,get(e,t){return this.cache.has(e)?this.cache.get(e):(this.cache.set(e,t),t)}};function Le({platform:e}){return n(Ee,{platform:e})}globalThis.jotaiAtomCache=globalThis.jotaiAtomCache||{cache:new Map,get(e,t){return this.cache.has(e)?this.cache.get(e):(this.cache.set(e,t),t)}};const ze=(e,t)=>[...new Set(e==null?void 0:e.filter(s=>t==null?void 0:t.includes(s.id)).map(s=>s.platform))],Ye=e=>e.map(t=>({children:n(Le,{platform:t}),key:t,label:n("span",{title:t,children:n(he,{name:t,size:32})})}));function ht(){const e=H(_),{activeAccounts:t}=ue(),{groups:s}=fe(),o=w.useMemo(()=>{const d=e.accounts.accountIds,k=[],g=[...d,...k],c=ze(t,g);return Ye(c)},[t,s,e.accounts.groupIds,e.accounts.accountIds]);return!o||!o.length?n(S.Title,{level:4,style:{textAlign:"center"},type:"secondary",children:I("Please select an account")}):n(me,{items:o,tabBarGutter:8})}const _e=""+new URL("bit-social-ba-assets-583.svg",import.meta.url).href;globalThis.jotaiAtomCache=globalThis.jotaiAtomCache||{cache:new Map,get(e,t){return this.cache.has(e)?this.cache.get(e):(this.cache.set(e,t),t)}};const{Link:Ue,Title:Ne}=S;function He(){const{token:e}=K.useToken(),[t,s]=w.useState(!1);return n(pe,{content:n(ge,{preview:!1,src:_e,width:400}),onOpenChange:d=>{s(d)},open:t,placement:"bottomRight",title:x(de,{align:"center",justify:"space-between",children:[n(Ne,{level:5,style:{color:e.colorPrimary,marginBottom:0},children:I("Advance Schedule Feature on Pro!")}),n(Ue,{href:"https://bit-social.com/#pricing",rel:"noopener noreferrer nofollow",strong:!0,style:{whiteSpace:"nowrap"},target:"_blank",children:n(B,{size:"small",type:"primary",children:I("Buy Pro")})})]}),trigger:"click",children:x(B,{style:{borderColor:e.colorPrimary},type:"text",children:[I("Advance Schedule")," ",n(ne,{color:"#ff8609",name:"crown",size:18})]})})}globalThis.jotaiAtomCache=globalThis.jotaiAtomCache||{cache:new Map,get(e,t){return this.cache.has(e)?this.cache.get(e):(this.cache.set(e,t),t)}};const{dateFormat:Re,timeFormat:Be,timeZone:Ve}=Y(N),Ze=R(Be),We=R(Re);function Ge({handleOnClear:e,onChangeDate:t,stateData:s,type:o}){var k,g,c;const{token:d}=K.useToken();return x(E,{children:[n(S.Text,{style:{border:`1px solid ${d.colorBorder}`,borderRadius:"9px",cursor:"not-allowed",fontSize:"14px",padding:"5px 15px"},children:O(((k=s==null?void 0:s.settings)==null?void 0:k.started_at)||W(Ve)).format(We)}),n(F,{allowClear:o==="SHARENOW",format:Ze,onChange:o==="SHARENOW"?e:void 0,onOk:t("started_at"),showNow:!1,showSecond:!1,value:(g=s.settings)!=null&&g.started_at?O((c=s.settings)==null?void 0:c.started_at,"YYYY-MM-DD HH:mm:ss"):void 0}),n(He,{})]})}globalThis.jotaiAtomCache=globalThis.jotaiAtomCache||{cache:new Map,get(e,t){return this.cache.has(e)?this.cache.get(e):(this.cache.set(e,t),t)}};const{dateFormat:qe,timeFormat:Xe}=Y(N),Je=`${qe} ${Xe}`;R(Je);globalThis.jotaiAtomCache=globalThis.jotaiAtomCache||{cache:new Map,get(e,t){return this.cache.has(e)?this.cache.get(e):(this.cache.set(e,t),t)}};function ut({handleOnClear:e,onChangeDate:t,stateData:s,type:o}){return n(Ge,{handleOnClear:e,onChangeDate:t,stateData:s,type:o})}export{_ as $,ut as D,ht as T,Ie as a,Oe as b,F as c,xe as d,ze as g,ke as t,we as u};
