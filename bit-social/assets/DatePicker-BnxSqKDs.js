import{r as w,bF as re,bD as ce,Z as F,bG as V,bH as W,X as _,Y as H,ao as G,a0 as q,D,E as X,a1 as S,y as x,j as h,z as M,T as E,aw as J,S as z,F as K,x as Q,B as Z,I as ne,aq as B}from"./main-purple-memes-own.js";import{D as le,d as O}from"./index-eIlsCznl.js";import{$ as he,u as ee}from"./useSocialTemplates-VyXlBnw-.js";import{P as ue}from"./PlatformIcon-DNsDm6Bc.js";import{a as fe}from"./useIntervalTypes-CjH2nJgJ.js";import{a as me}from"./groupHelper-DF3QaUzq.js";import{M as te}from"./index-DsDn8zuV.js";import{C as ae}from"./index-BxLORV_t.js";import{T as ge}from"./index-CPnC06R9.js";import{I as de}from"./index-CoktROcO.js";import{F as pe}from"./index-Dm3JvXM2.js";import{P as be}from"./index-BTH5AilL.js";var Ce=function(e,t){var i={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(i[o]=e[o]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var u=0,o=Object.getOwnPropertySymbols(e);u<o.length;u++)t.indexOf(o[u])<0&&Object.prototype.propertyIsEnumerable.call(e,o[u])&&(i[o[u]]=e[o[u]]);return i};const{TimePicker:Te,RangePicker:ve}=le,$e=w.forwardRef((e,t)=>w.createElement(ve,Object.assign({},e,{picker:"time",mode:void 0,ref:t}))),L=w.forwardRef((e,t)=>{var{addon:i,renderExtraFooter:o,variant:u,bordered:v}=e,m=Ce(e,["addon","renderExtraFooter","variant","bordered"]);const[p]=re("timePicker",u,v),s=w.useMemo(()=>{if(o)return o;if(i)return i},[i,o]);return w.createElement(Te,Object.assign({},m,{mode:void 0,ref:t,renderExtraFooter:s,variant:p}))}),oe=ce(L,"picker");L._InternalPanelDoNotUseOrYouWillBeFired=oe;L.RangePicker=$e;L._InternalPanelDoNotUseOrYouWillBeFired=oe;globalThis.jotaiAtomCache=globalThis.jotaiAtomCache||{cache:new Map,get(e,t){return this.cache.has(e)?this.cache.get(e):(this.cache.set(e,t),t)}};const R=globalThis.jotaiAtomCache.get("/home/runner/work/bit-social/bit-social/frontend/src/common/globalStates/$createScheduleModal.ts/$createScheduleModal",F({open:!1,type:"create"}));R.debugLabel="$createScheduleModal";var se={exports:{}};(function(e,t){(function(i,o){e.exports=o()})(V,function(){var i={year:0,month:1,day:2,hour:3,minute:4,second:5},o={};return function(u,v,m){var p,s=function(r,l,c){c===void 0&&(c={});var a=new Date(r),f=function(b,C){C===void 0&&(C={});var d=C.timeZoneName||"short",$=b+"|"+d,T=o[$];return T||(T=new Intl.DateTimeFormat("en-US",{hour12:!1,timeZone:b,year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit",timeZoneName:d}),o[$]=T),T}(l,c);return f.formatToParts(a)},A=function(r,l){for(var c=s(r,l),a=[],f=0;f<c.length;f+=1){var b=c[f],C=b.type,d=b.value,$=i[C];$>=0&&(a[$]=parseInt(d,10))}var T=a[3],I=T===24?0:T,k=a[0]+"-"+a[1]+"-"+a[2]+" "+I+":"+a[4]+":"+a[5]+":000",P=+r;return(m.utc(k).valueOf()-(P-=P%1e3))/6e4},n=v.prototype;n.tz=function(r,l){r===void 0&&(r=p);var c,a=this.utcOffset(),f=this.toDate(),b=f.toLocaleString("en-US",{timeZone:r}),C=Math.round((f-new Date(b))/1e3/60),d=15*-Math.round(f.getTimezoneOffset()/15)-C;if(!Number(d))c=this.utcOffset(0,l);else if(c=m(b,{locale:this.$L}).$set("millisecond",this.$ms).utcOffset(d,!0),l){var $=c.utcOffset();c=c.add(a-$,"minute")}return c.$x.$timezone=r,c},n.offsetName=function(r){var l=this.$x.$timezone||m.tz.guess(),c=s(this.valueOf(),l,{timeZoneName:r}).find(function(a){return a.type.toLowerCase()==="timezonename"});return c&&c.value};var g=n.startOf;n.startOf=function(r,l){if(!this.$x||!this.$x.$timezone)return g.call(this,r,l);var c=m(this.format("YYYY-MM-DD HH:mm:ss:SSS"),{locale:this.$L});return g.call(c,r,l).tz(this.$x.$timezone,!0)},m.tz=function(r,l,c){var a=c&&l,f=c||l||p,b=A(+m(),f);if(typeof r!="string")return m(r).tz(f);var C=function(I,k,P){var j=I-60*k*1e3,y=A(j,P);if(k===y)return[j,k];var N=A(j-=60*(y-k)*1e3,P);return y===N?[j,y]:[I-60*Math.min(y,N)*1e3,Math.max(y,N)]}(m.utc(r,a).valueOf(),b,f),d=C[0],$=C[1],T=m(d).utcOffset($);return T.$x.$timezone=f,T},m.tz.guess=function(){return Intl.DateTimeFormat().resolvedOptions().timeZone},m.tz.setDefault=function(r){p=r}}})})(se);var ke=se.exports;const Ae=W(ke);var ie={exports:{}};(function(e,t){(function(i,o){e.exports=o()})(V,function(){var i="minute",o=/[+-]\d\d(?::?\d\d)?/g,u=/([+-]|\d\d)/g;return function(v,m,p){var s=m.prototype;p.utc=function(a){var f={date:a,utc:!0,args:arguments};return new m(f)},s.utc=function(a){var f=p(this.toDate(),{locale:this.$L,utc:!0});return a?f.add(this.utcOffset(),i):f},s.local=function(){return p(this.toDate(),{locale:this.$L,utc:!1})};var A=s.parse;s.parse=function(a){a.utc&&(this.$u=!0),this.$utils().u(a.$offset)||(this.$offset=a.$offset),A.call(this,a)};var n=s.init;s.init=function(){if(this.$u){var a=this.$d;this.$y=a.getUTCFullYear(),this.$M=a.getUTCMonth(),this.$D=a.getUTCDate(),this.$W=a.getUTCDay(),this.$H=a.getUTCHours(),this.$m=a.getUTCMinutes(),this.$s=a.getUTCSeconds(),this.$ms=a.getUTCMilliseconds()}else n.call(this)};var g=s.utcOffset;s.utcOffset=function(a,f){var b=this.$utils().u;if(b(a))return this.$u?0:b(this.$offset)?g.call(this):this.$offset;if(typeof a=="string"&&(a=function(T){T===void 0&&(T="");var I=T.match(o);if(!I)return null;var k=(""+I[0]).match(u)||["-",0,0],P=k[0],j=60*+k[1]+ +k[2];return j===0?0:P==="+"?j:-j}(a),a===null))return this;var C=Math.abs(a)<=16?60*a:a,d=this;if(f)return d.$offset=C,d.$u=a===0,d;if(a!==0){var $=this.$u?this.toDate().getTimezoneOffset():-1*this.utcOffset();(d=this.local().add(C+$,i)).$offset=C,d.$x.$localOffset=$}else d=this.utc();return d};var r=s.format;s.format=function(a){var f=a||(this.$u?"YYYY-MM-DDTHH:mm:ss[Z]":"");return r.call(this,f)},s.valueOf=function(){var a=this.$utils().u(this.$offset)?0:this.$offset+(this.$x.$localOffset||this.$d.getTimezoneOffset());return this.$d.valueOf()-6e4*a},s.isUTC=function(){return!!this.$u},s.toISOString=function(){return this.toDate().toISOString()},s.toString=function(){return this.toDate().toUTCString()};var l=s.toDate;s.toDate=function(a){return a==="s"&&this.$offset?p(this.format("YYYY-MM-DD HH:mm:ss:SSS")).toDate():l.call(this)};var c=s.diff;s.diff=function(a,f,b){if(a&&this.$u===a.$u)return c.call(this,a,f,b);var C=this.local(),d=p(a).local();return c.call(C,d,f,b)}}})})(ie);var we=ie.exports;const je=W(we);globalThis.jotaiAtomCache=globalThis.jotaiAtomCache||{cache:new Map,get(e,t){return this.cache.has(e)?this.cache.get(e):(this.cache.set(e,t),t)}};const Me=globalThis.jotaiAtomCache.get("/home/runner/work/bit-social/bit-social/frontend/src/common/globalStates/$scheduleModalData.ts/$scheduleModalData",F({open:!1,type:"create"}));Me.debugLabel="$scheduleModalData";const Ie=globalThis.jotaiAtomCache.get("/home/runner/work/bit-social/bit-social/frontend/src/common/globalStates/$scheduleModalData.ts/$searchText",F(""));Ie.debugLabel="$searchText";O.extend(je);O.extend(Ae);const{timeZone:Pe}=_(H),ye=_(he),Se=O(G(Pe)).format("YYYY-MM-DD HH:mm:ss"),De=e=>({bluesky:{comment:e.bluesky.comment,content:e.bluesky.content,isAllImages:!1,isFeaturedImage:!1,isLinkCard:!1,isProductImage:!1},discord:{content:e.discord.content,isAllImages:!1,isFeaturedImage:!0,isLinkCard:!1,isProductImage:!1},facebook:{content:e.facebook.content,isAllImages:!1,isFeaturedImage:!1,isLinkCard:!1,isProductImage:!1,isVideo:!1},googleBusinessProfile:{button:"none",content:e.googleBusinessProfile.content,isAllImages:!1,isFeaturedImage:!1,isLinkCard:!1,isProductImage:!1},instagram:{comment:e.instagram.comment,content:e.instagram.content,isAllImages:!1,isFeaturedImage:!1,isProductImage:!1,isVideo:!1},linkedin:{content:e.linkedin.content,isAllImages:!1,isFeaturedImage:!1,isLinkCard:!1,isProductImage:!1,isVideo:!1},pinterest:{content:e.pinterest.content,isAllImages:!1,isFeaturedImage:!0,isLinkCard:!1,isProductImage:!1},tiktok:{allowComment:!0,content:e.tiktok.content,duet:!1,edit:!1,media:[],privacyLevel:"PUBLIC_TO_EVERYONE",stitch:!1},tumblr:{content:e.tumblr.content,isAllImages:!1,isFeaturedImage:!1,isLinkCard:!1,isProductImage:!1,isVideo:!1},twitter:{content:e.twitter.content,isAllImages:!1,isFeaturedImage:!1,isLinkCard:!1,isProductImage:!1}}),xe=e=>({accounts:{accountIds:[],groupIds:[]},post_filters:{filter_by_days:"0",post_type:"post"},settings:{name:"Untitled schedule",post_interval_type:"hour",post_interval_value:1,post_publish_order:"4",started_at:Se},templates:De(e)}),U=globalThis.jotaiAtomCache.get("/home/runner/work/bit-social/bit-social/frontend/src/common/globalStates/$scheduleModalData.ts/$scheduleData",F(xe(ye)));U.debugLabel="$scheduleData";globalThis.jotaiAtomCache=globalThis.jotaiAtomCache||{cache:new Map,get(e,t){return this.cache.has(e)?this.cache.get(e):(this.cache.set(e,t),t)}};const Oe=globalThis.jotaiAtomCache.get("/home/runner/work/bit-social/bit-social/frontend/src/common/globalStates/$scheduleErrors.ts/$scheduleErrors",F({}));Oe.debugLabel="$scheduleErrors";globalThis.jotaiAtomCache=globalThis.jotaiAtomCache||{cache:new Map,get(e,t){return this.cache.has(e)?this.cache.get(e):(this.cache.set(e,t),t)}};const Y={isAllImages:{name:"All Images",tooltip:"Enable to the post all images shared"},isFeaturedImage:{name:"Featured Image",tooltip:"Enable to the post featured image shared"},isLinkCard:{name:"Link Card",tooltip:"Enable to the post link shared as a card"},isProductImage:{name:"Product Image",tooltip:"Enable to the product image shared"},isVideo:{name:"Video",tooltip:"Enable to the post video shared"}};globalThis.jotaiAtomCache=globalThis.jotaiAtomCache||{cache:new Map,get(e,t){return this.cache.has(e)?this.cache.get(e):(this.cache.set(e,t),t)}};function Fe(){const[e,t]=q(U),i=D(R),{isProClient:o}=D(X),{socialTemplates:u}=ee(),v=n=>{t(g=>S(g,r=>{r.templates.facebook.content=n}))},s=o?["isFeaturedImage","isProductImage","isLinkCard","isAllImages"]:["isFeaturedImage","isLinkCard"],A=(n,g)=>{t(r=>S(r,l=>{s.forEach(c=>{l.templates.facebook[c]=!1}),l.templates.facebook[n]=g}))};return w.useEffect(()=>{if(!(u!=null&&u.facebook)||i.type!=="create")return;const{content:n,postingType:g}=u.facebook;g!=="onlyMessage"&&t(r=>S(r,l=>{s.forEach(c=>{l.templates.facebook[c]=!1}),l.templates.facebook[g]=!0,l.templates.facebook.content=n}))},[u==null?void 0:u.facebook]),x(K,{children:[h(te,{label:M("Customize post message"),onChange:v,rows:6,value:e.templates.facebook.content,wrapperClassName:"mb-4"}),h(E.Title,{level:5,children:M("Media")}),h(z,{className:"mb-3",wrap:!0,children:s==null?void 0:s.map(n=>h(J,{title:Y[n].tooltip,children:h(ae,{checked:e.templates.facebook[n],onChange:g=>{A(n,g.target.checked)},children:Y[n].name})},n))})]})}globalThis.jotaiAtomCache=globalThis.jotaiAtomCache||{cache:new Map,get(e,t){return this.cache.has(e)?this.cache.get(e):(this.cache.set(e,t),t)}};function Ee(){const[e,t]=q(U),i=D(R),{socialTemplates:o}=ee(),{isProClient:u}=D(X),v=n=>{t(g=>S(g,r=>{r.templates.linkedin.content=n}))},s=u?["isFeaturedImage","isProductImage","isLinkCard","isAllImages"]:["isFeaturedImage","isLinkCard"],A=(n,g)=>{t(r=>S(r,l=>{s.forEach(c=>{l.templates.linkedin[c]=!1}),l.templates.linkedin[n]=g}))};return w.useEffect(()=>{if(!(o!=null&&o.linkedin)||i.type!=="create")return;const{content:n,postingType:g}=o.linkedin;g!=="onlyMessage"&&t(r=>S(r,l=>{s.forEach(c=>{l.templates.linkedin[c]=!1}),l.templates.linkedin[g]=!0,l.templates.linkedin.content=n}))},[o==null?void 0:o.linkedin]),x(K,{children:[h(te,{label:M("Customize post message"),onChange:v,rows:6,value:e.templates.linkedin.content,wrapperClassName:"mb-4"}),h(E.Title,{level:5,children:M("Media")}),h(z,{className:"mb-3",wrap:!0,children:h(z,{className:"mb-3",wrap:!0,children:s==null?void 0:s.map(n=>h(J,{title:Y[n].tooltip,children:h(ae,{checked:e.templates.linkedin[n],onChange:g=>{A(n,g.target.checked)},children:Y[n].name})},n))})})]})}globalThis.jotaiAtomCache=globalThis.jotaiAtomCache||{cache:new Map,get(e,t){return this.cache.has(e)?this.cache.get(e):(this.cache.set(e,t),t)}};function Le({platform:e}){switch(e){case"facebook":return h(Fe,{});case"linkedin":return h(Ee,{})}}globalThis.jotaiAtomCache=globalThis.jotaiAtomCache||{cache:new Map,get(e,t){return this.cache.has(e)?this.cache.get(e):(this.cache.set(e,t),t)}};globalThis.jotaiAtomCache=globalThis.jotaiAtomCache||{cache:new Map,get(e,t){return this.cache.has(e)?this.cache.get(e):(this.cache.set(e,t),t)}};globalThis.jotaiAtomCache=globalThis.jotaiAtomCache||{cache:new Map,get(e,t){return this.cache.has(e)?this.cache.get(e):(this.cache.set(e,t),t)}};globalThis.jotaiAtomCache=globalThis.jotaiAtomCache||{cache:new Map,get(e,t){return this.cache.has(e)?this.cache.get(e):(this.cache.set(e,t),t)}};globalThis.jotaiAtomCache=globalThis.jotaiAtomCache||{cache:new Map,get(e,t){return this.cache.has(e)?this.cache.get(e):(this.cache.set(e,t),t)}};globalThis.jotaiAtomCache=globalThis.jotaiAtomCache||{cache:new Map,get(e,t){return this.cache.has(e)?this.cache.get(e):(this.cache.set(e,t),t)}};const ut=e=>({name:e.filename,uid:e.id,url:e.url});globalThis.jotaiAtomCache=globalThis.jotaiAtomCache||{cache:new Map,get(e,t){return this.cache.has(e)?this.cache.get(e):(this.cache.set(e,t),t)}};globalThis.jotaiAtomCache=globalThis.jotaiAtomCache||{cache:new Map,get(e,t){return this.cache.has(e)?this.cache.get(e):(this.cache.set(e,t),t)}};globalThis.jotaiAtomCache=globalThis.jotaiAtomCache||{cache:new Map,get(e,t){return this.cache.has(e)?this.cache.get(e):(this.cache.set(e,t),t)}};globalThis.jotaiAtomCache=globalThis.jotaiAtomCache||{cache:new Map,get(e,t){return this.cache.has(e)?this.cache.get(e):(this.cache.set(e,t),t)}};globalThis.jotaiAtomCache=globalThis.jotaiAtomCache||{cache:new Map,get(e,t){return this.cache.has(e)?this.cache.get(e):(this.cache.set(e,t),t)}};function ze({platform:e}){return h(Le,{platform:e})}globalThis.jotaiAtomCache=globalThis.jotaiAtomCache||{cache:new Map,get(e,t){return this.cache.has(e)?this.cache.get(e):(this.cache.set(e,t),t)}};const Ye=(e,t)=>[...new Set(e==null?void 0:e.filter(i=>t==null?void 0:t.includes(i.id)).map(i=>i.platform))],_e=e=>e.map(t=>({children:h(ze,{platform:t}),key:t,label:h("span",{title:t,children:h(ue,{name:t,size:32})})}));function ft(){const e=D(U),{activeAccounts:t}=fe(),{groups:i}=me(),o=w.useMemo(()=>{const u=e.accounts.accountIds,v=[],m=[...u,...v],p=Ye(t,m);return _e(p)},[t,i,e.accounts.groupIds,e.accounts.accountIds]);return!o||!o.length?h(E.Title,{level:4,style:{textAlign:"center"},type:"secondary",children:M("Please select an account")}):h(ge,{items:o,tabBarGutter:8})}const Ue=""+new URL("bit-social-ba-assets-239.svg",import.meta.url).href;globalThis.jotaiAtomCache=globalThis.jotaiAtomCache||{cache:new Map,get(e,t){return this.cache.has(e)?this.cache.get(e):(this.cache.set(e,t),t)}};const{Link:Ne,Title:He}=E;function Be(){const{token:e}=Q.useToken(),[t,i]=w.useState(!1);return h(be,{content:h(de,{preview:!1,src:Ue,width:400}),onOpenChange:u=>{i(u)},open:t,placement:"bottomRight",title:x(pe,{align:"center",justify:"space-between",children:[h(He,{level:5,style:{color:e.colorPrimary,marginBottom:0},children:M("Advance Schedule Feature on Pro!")}),h(Ne,{href:"https://bit-social.com/#pricing",rel:"noopener noreferrer nofollow",strong:!0,style:{whiteSpace:"nowrap"},target:"_blank",children:h(Z,{size:"small",type:"primary",children:M("Buy Pro")})})]}),trigger:"click",children:x(Z,{style:{borderColor:e.colorPrimary},type:"text",children:[M("Advance Schedule")," ",h(ne,{color:"#ff8609",size:18})]})})}globalThis.jotaiAtomCache=globalThis.jotaiAtomCache||{cache:new Map,get(e,t){return this.cache.has(e)?this.cache.get(e):(this.cache.set(e,t),t)}};const{dateFormat:Re,timeFormat:Ze,timeZone:Ve}=_(H),We=B(Ze),Ge=B(Re);function qe({handleOnClear:e,onChangeDate:t,stateData:i,type:o}){var v,m,p;const{token:u}=Q.useToken();return x(z,{children:[h(E.Text,{style:{border:`1px solid ${u.colorBorder}`,borderRadius:"9px",cursor:"not-allowed",fontSize:"14px",padding:"5px 15px"},children:O(((v=i==null?void 0:i.settings)==null?void 0:v.started_at)||G(Ve)).format(Ge)}),h(L,{allowClear:o==="SHARENOW",format:We,onChange:o==="SHARENOW"?e:void 0,onOk:t("started_at"),showNow:!1,showSecond:!1,value:(m=i.settings)!=null&&m.started_at?O((p=i.settings)==null?void 0:p.started_at,"YYYY-MM-DD HH:mm:ss"):void 0}),h(Be,{})]})}globalThis.jotaiAtomCache=globalThis.jotaiAtomCache||{cache:new Map,get(e,t){return this.cache.has(e)?this.cache.get(e):(this.cache.set(e,t),t)}};const{dateFormat:Xe,timeFormat:Je}=_(H),Ke=`${Xe} ${Je}`;B(Ke);globalThis.jotaiAtomCache=globalThis.jotaiAtomCache||{cache:new Map,get(e,t){return this.cache.has(e)?this.cache.get(e):(this.cache.set(e,t),t)}};function mt({handleOnClear:e,onChangeDate:t,stateData:i,type:o}){return h(qe,{handleOnClear:e,onChangeDate:t,stateData:i,type:o})}export{R as $,mt as D,ft as T,U as a,Ie as b,Oe as c,L as d,xe as e,Ye as g,ut as p,Ae as t,je as u};
