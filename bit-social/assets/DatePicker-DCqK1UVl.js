import{r as I,bI as ne,bG as le,a1 as L,bJ as W,bK as G,as as J,a2 as _,a3 as H,a4 as K,H as F,K as q,a5 as S,j as l,ae as Q,B as x,D as w,T as D,S as z,aA as X,F as ee,A as te,E as Z,J as he,av as B}from"./main-loud-buses-flash.js";import{D as ue,d as O}from"./index-CKdsFPZp.js";import{$ as fe,u as ae}from"./useSocialTemplates-BwgKo5Jp.js";import{P as me}from"./PlatformIcon-g5kbG2HT.js";import{a as ge}from"./useIntervalTypes-BdE4rls8.js";import{a as de}from"./groupHelper-B64LUuva.js";import{M as se}from"./index-TSja6Prd.js";import{C as oe}from"./index-CCjU26vm.js";import{T as pe}from"./index-Bgwsj8B4.js";import{P as be}from"./index-B3DTKqfm.js";import{F as Ce}from"./index-DgGTU6wh.js";import{I as Te}from"./index-Ckm6kTQH.js";var ke=function(e,t){var o={};for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&t.indexOf(s)<0&&(o[s]=e[s]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var u=0,s=Object.getOwnPropertySymbols(e);u<s.length;u++)t.indexOf(s[u])<0&&Object.prototype.propertyIsEnumerable.call(e,s[u])&&(o[s[u]]=e[s[u]]);return o};const{TimePicker:ve,RangePicker:Ae}=ue,$e=I.forwardRef((e,t)=>I.createElement(Ae,Object.assign({},e,{picker:"time",mode:void 0,ref:t}))),E=I.forwardRef((e,t)=>{var{addon:o,renderExtraFooter:s,variant:u,bordered:k}=e,m=ke(e,["addon","renderExtraFooter","variant","bordered"]);const[d]=ne("timePicker",u,k),i=I.useMemo(()=>{if(s)return s;if(o)return o},[o,s]);return I.createElement(ve,Object.assign({},m,{mode:void 0,ref:t,renderExtraFooter:i,variant:d}))}),ie=le(E,"popupAlign",void 0,"picker");E._InternalPanelDoNotUseOrYouWillBeFired=ie;E.RangePicker=$e;E._InternalPanelDoNotUseOrYouWillBeFired=ie;globalThis.jotaiAtomCache=globalThis.jotaiAtomCache||{cache:new Map,get(e,t){return this.cache.has(e)?this.cache.get(e):(this.cache.set(e,t),t)}};const R=globalThis.jotaiAtomCache.get("/home/runner/work/bit-social/bit-social/frontend/src/common/globalStates/$createScheduleModal.ts/$createScheduleModal",L({open:!1,type:"create"}));R.debugLabel="$createScheduleModal";var re={exports:{}};(function(e,t){(function(o,s){e.exports=s()})(W,function(){var o={year:0,month:1,day:2,hour:3,minute:4,second:5},s={};return function(u,k,m){var d,i=function(r,c,n){n===void 0&&(n={});var a=new Date(r),f=function(C,b){b===void 0&&(b={});var p=b.timeZoneName||"short",v=C+"|"+p,T=s[v];return T||(T=new Intl.DateTimeFormat("en-US",{hour12:!1,timeZone:C,year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit",timeZoneName:p}),s[v]=T),T}(c,n);return f.formatToParts(a)},$=function(r,c){for(var n=i(r,c),a=[],f=0;f<n.length;f+=1){var C=n[f],b=C.type,p=C.value,v=o[b];v>=0&&(a[v]=parseInt(p,10))}var T=a[3],M=T===24?0:T,A=a[0]+"-"+a[1]+"-"+a[2]+" "+M+":"+a[4]+":"+a[5]+":000",P=+r;return(m.utc(A).valueOf()-(P-=P%1e3))/6e4},h=k.prototype;h.tz=function(r,c){r===void 0&&(r=d);var n,a=this.utcOffset(),f=this.toDate(),C=f.toLocaleString("en-US",{timeZone:r}),b=Math.round((f-new Date(C))/1e3/60),p=15*-Math.round(f.getTimezoneOffset()/15)-b;if(!Number(p))n=this.utcOffset(0,c);else if(n=m(C,{locale:this.$L}).$set("millisecond",this.$ms).utcOffset(p,!0),c){var v=n.utcOffset();n=n.add(a-v,"minute")}return n.$x.$timezone=r,n},h.offsetName=function(r){var c=this.$x.$timezone||m.tz.guess(),n=i(this.valueOf(),c,{timeZoneName:r}).find(function(a){return a.type.toLowerCase()==="timezonename"});return n&&n.value};var g=h.startOf;h.startOf=function(r,c){if(!this.$x||!this.$x.$timezone)return g.call(this,r,c);var n=m(this.format("YYYY-MM-DD HH:mm:ss:SSS"),{locale:this.$L});return g.call(n,r,c).tz(this.$x.$timezone,!0)},m.tz=function(r,c,n){var a=n&&c,f=n||c||d,C=$(+m(),f);if(typeof r!="string")return m(r).tz(f);var b=function(M,A,P){var j=M-60*A*1e3,y=$(j,P);if(A===y)return[j,A];var N=$(j-=60*(y-A)*1e3,P);return y===N?[j,y]:[M-60*Math.min(y,N)*1e3,Math.max(y,N)]}(m.utc(r,a).valueOf(),C,f),p=b[0],v=b[1],T=m(p).utcOffset(v);return T.$x.$timezone=f,T},m.tz.guess=function(){return Intl.DateTimeFormat().resolvedOptions().timeZone},m.tz.setDefault=function(r){d=r}}})})(re);var Ie=re.exports;const je=G(Ie);var ce={exports:{}};(function(e,t){(function(o,s){e.exports=s()})(W,function(){var o="minute",s=/[+-]\d\d(?::?\d\d)?/g,u=/([+-]|\d\d)/g;return function(k,m,d){var i=m.prototype;d.utc=function(a){var f={date:a,utc:!0,args:arguments};return new m(f)},i.utc=function(a){var f=d(this.toDate(),{locale:this.$L,utc:!0});return a?f.add(this.utcOffset(),o):f},i.local=function(){return d(this.toDate(),{locale:this.$L,utc:!1})};var $=i.parse;i.parse=function(a){a.utc&&(this.$u=!0),this.$utils().u(a.$offset)||(this.$offset=a.$offset),$.call(this,a)};var h=i.init;i.init=function(){if(this.$u){var a=this.$d;this.$y=a.getUTCFullYear(),this.$M=a.getUTCMonth(),this.$D=a.getUTCDate(),this.$W=a.getUTCDay(),this.$H=a.getUTCHours(),this.$m=a.getUTCMinutes(),this.$s=a.getUTCSeconds(),this.$ms=a.getUTCMilliseconds()}else h.call(this)};var g=i.utcOffset;i.utcOffset=function(a,f){var C=this.$utils().u;if(C(a))return this.$u?0:C(this.$offset)?g.call(this):this.$offset;if(typeof a=="string"&&(a=function(T){T===void 0&&(T="");var M=T.match(s);if(!M)return null;var A=(""+M[0]).match(u)||["-",0,0],P=A[0],j=60*+A[1]+ +A[2];return j===0?0:P==="+"?j:-j}(a),a===null))return this;var b=Math.abs(a)<=16?60*a:a;if(b===0)return this.utc(f);var p=this.clone();if(f)return p.$offset=b,p.$u=!1,p;var v=this.$u?this.toDate().getTimezoneOffset():-1*this.utcOffset();return(p=this.local().add(b+v,o)).$offset=b,p.$x.$localOffset=v,p};var r=i.format;i.format=function(a){var f=a||(this.$u?"YYYY-MM-DDTHH:mm:ss[Z]":"");return r.call(this,f)},i.valueOf=function(){var a=this.$utils().u(this.$offset)?0:this.$offset+(this.$x.$localOffset||this.$d.getTimezoneOffset());return this.$d.valueOf()-6e4*a},i.isUTC=function(){return!!this.$u},i.toISOString=function(){return this.toDate().toISOString()},i.toString=function(){return this.toDate().toUTCString()};var c=i.toDate;i.toDate=function(a){return a==="s"&&this.$offset?d(this.format("YYYY-MM-DD HH:mm:ss:SSS")).toDate():c.call(this)};var n=i.diff;i.diff=function(a,f,C){if(a&&this.$u===a.$u)return n.call(this,a,f,C);var b=this.local(),p=d(a).local();return n.call(b,p,f,C)}}})})(ce);var we=ce.exports;const Me=G(we);globalThis.jotaiAtomCache=globalThis.jotaiAtomCache||{cache:new Map,get(e,t){return this.cache.has(e)?this.cache.get(e):(this.cache.set(e,t),t)}};const Pe=globalThis.jotaiAtomCache.get("/home/runner/work/bit-social/bit-social/frontend/src/common/globalStates/$scheduleModalData.ts/$scheduleModalData",L({open:!1,type:"create"}));Pe.debugLabel="$scheduleModalData";const ye=globalThis.jotaiAtomCache.get("/home/runner/work/bit-social/bit-social/frontend/src/common/globalStates/$scheduleModalData.ts/$searchText",L(""));ye.debugLabel="$searchText";O.extend(Me);O.extend(je);const{timeZone:Se}=_(H),De=_(fe),Fe=O(J(Se)).format("YYYY-MM-DD HH:mm:ss"),V=e=>({bluesky:{comment:e.bluesky.comment,content:e.bluesky.content,isAllImages:!1,isFeaturedImage:!1,isLinkCard:!1,isProductImage:!1},discord:{content:e.discord.content,isAllImages:!1,isFeaturedImage:!0,isLinkCard:!1,isProductImage:!1},facebook:{content:e.facebook.content,isAllImages:!1,isFeaturedImage:!1,isLinkCard:!1,isProductImage:!1,isVideo:!1},googleBusinessProfile:{button:"none",content:e.googleBusinessProfile.content,isAllImages:!1,isFeaturedImage:!1,isLinkCard:!1,isProductImage:!1},instagram:{comment:e.instagram.comment,content:e.instagram.content,isAllImages:!1,isFeaturedImage:!1,isProductImage:!1,isVideo:!1},line:{content:e.bluesky.content,isAllImages:!1,isFeaturedImage:!1,isLinkCard:!1,isProductImage:!1},linkedin:{content:e.linkedin.content,isAllImages:!1,isFeaturedImage:!1,isLinkCard:!1,isProductImage:!1,isVideo:!1},pinterest:{content:e.pinterest.content,isAllImages:!1,isFeaturedImage:!0,isLinkCard:!1,isProductImage:!1},telegram:{content:e.telegram.content,isAllImages:!1,isFeaturedImage:!1,isLinkCard:!1,isProductImage:!1},threads:{comment:e.threads.comment,content:e.threads.content,isAllImages:!1,isFeaturedImage:!1,isLinkCard:!1,isProductImage:!1,topic:e.threads.topic},tiktok:{allowComment:!0,content:e.tiktok.content,duet:!1,edit:!1,media:[],privacyLevel:"PUBLIC_TO_EVERYONE",stitch:!1},tumblr:{content:e.tumblr.content,isAllImages:!1,isFeaturedImage:!1,isLinkCard:!1,isProductImage:!1,isVideo:!1},twitter:{content:e.twitter.content,isAllImages:!1,isFeaturedImage:!1,isLinkCard:!1,isProductImage:!1}}),xe=e=>({accounts:{accountIds:[],groupIds:[]},post_filters:{filter_by_days:"0",post_type:"post"},settings:{name:"Untitled schedule",post_interval_type:"hour",post_interval_value:1,post_publish_order:"4",started_at:Fe},templates:V(e)}),U=globalThis.jotaiAtomCache.get("/home/runner/work/bit-social/bit-social/frontend/src/common/globalStates/$scheduleModalData.ts/$scheduleData",L(xe(De)));U.debugLabel="$scheduleData";globalThis.jotaiAtomCache=globalThis.jotaiAtomCache||{cache:new Map,get(e,t){return this.cache.has(e)?this.cache.get(e):(this.cache.set(e,t),t)}};const Oe=globalThis.jotaiAtomCache.get("/home/runner/work/bit-social/bit-social/frontend/src/common/globalStates/$scheduleErrors.ts/$scheduleErrors",L({}));Oe.debugLabel="$scheduleErrors";globalThis.jotaiAtomCache=globalThis.jotaiAtomCache||{cache:new Map,get(e,t){return this.cache.has(e)?this.cache.get(e):(this.cache.set(e,t),t)}};const Y={isAllImages:{name:"All Images",tooltip:"Enable to the post all images shared"},isFeaturedImage:{name:"Featured Image",tooltip:"Enable to the post featured image shared"},isLinkCard:{name:"Link Card",tooltip:"Enable to the post link shared as a card"},isProductImage:{name:"Product Image",tooltip:"Enable to the product image shared"},isVideo:{name:"Video",tooltip:"Enable to the post video shared"}};globalThis.jotaiAtomCache=globalThis.jotaiAtomCache||{cache:new Map,get(e,t){return this.cache.has(e)?this.cache.get(e):(this.cache.set(e,t),t)}};function Le(){const[e,t]=K(U),o=F(R),{isProClient:s}=F(q),{socialTemplates:u}=ae(),k=h=>{t(g=>S(g,r=>{r.templates.facebook.content=h}))},i=s?["isFeaturedImage","isProductImage","isLinkCard","isAllImages"]:["isFeaturedImage","isLinkCard"],$=(h,g)=>{t(r=>S(r,c=>{i.forEach(n=>{c.templates.facebook[n]=!1}),c.templates.facebook[h]=g}))};return I.useEffect(()=>{if(!(u!=null&&u.facebook)||o.type!=="create"&&e.templates.facebook)return;const{content:h,postingType:g}=u.facebook;t(r=>S(r,c=>{if(!c.templates.facebook){c.templates.facebook=V(u).facebook;return}i.forEach(n=>{c.templates.facebook[n]=!1}),g!=="onlyMessage"&&(c.templates.facebook[g]=!0),c.templates.facebook.content=h}))},[u==null?void 0:u.facebook,o.type,u]),e.templates.facebook?x(ee,{children:[l(se,{label:w("Customize post message"),onChange:k,rows:6,value:e.templates.facebook.content,wrapperClassName:"mb-4"}),l(D.Title,{level:5,children:w("Media")}),l(z,{className:"mb-3",wrap:!0,children:i==null?void 0:i.map(h=>l(X,{title:Y[h].tooltip,children:l(oe,{checked:e.templates.facebook[h],onChange:g=>{$(h,g.target.checked)},children:Y[h].name})},h))})]}):l(Q,{})}globalThis.jotaiAtomCache=globalThis.jotaiAtomCache||{cache:new Map,get(e,t){return this.cache.has(e)?this.cache.get(e):(this.cache.set(e,t),t)}};function Ee(){const[e,t]=K(U),o=F(R),{socialTemplates:s}=ae(),{isProClient:u}=F(q),k=h=>{t(g=>S(g,r=>{r.templates.linkedin.content=h}))},i=u?["isFeaturedImage","isProductImage","isLinkCard","isAllImages"]:["isFeaturedImage","isLinkCard"],$=(h,g)=>{t(r=>S(r,c=>{i.forEach(n=>{c.templates.linkedin[n]=!1}),c.templates.linkedin[h]=g}))};return I.useEffect(()=>{if(!(s!=null&&s.linkedin)||o.type!=="create"&&e.templates.linkedin)return;const{content:h,postingType:g}=s.linkedin;t(r=>S(r,c=>{if(!c.templates.linkedin){c.templates.linkedin=V(s).linkedin;return}i.forEach(n=>{c.templates.linkedin[n]=!1}),g!=="onlyMessage"&&(c.templates.linkedin[g]=!0),c.templates.linkedin.content=h}))},[s==null?void 0:s.linkedin,o.type,s]),e.templates.linkedin?x(ee,{children:[l(se,{label:w("Customize post message"),onChange:k,rows:6,value:e.templates.linkedin.content,wrapperClassName:"mb-4"}),l(D.Title,{level:5,children:w("Media")}),l(z,{className:"mb-3",wrap:!0,children:l(z,{className:"mb-3",wrap:!0,children:i==null?void 0:i.map(h=>l(X,{title:Y[h].tooltip,children:l(oe,{checked:e.templates.linkedin[h],onChange:g=>{$(h,g.target.checked)},children:Y[h].name})},h))})})]}):l(Q,{})}globalThis.jotaiAtomCache=globalThis.jotaiAtomCache||{cache:new Map,get(e,t){return this.cache.has(e)?this.cache.get(e):(this.cache.set(e,t),t)}};function ze({platform:e}){switch(e){case"facebook":return l(Le,{});case"linkedin":return l(Ee,{})}}globalThis.jotaiAtomCache=globalThis.jotaiAtomCache||{cache:new Map,get(e,t){return this.cache.has(e)?this.cache.get(e):(this.cache.set(e,t),t)}};globalThis.jotaiAtomCache=globalThis.jotaiAtomCache||{cache:new Map,get(e,t){return this.cache.has(e)?this.cache.get(e):(this.cache.set(e,t),t)}};globalThis.jotaiAtomCache=globalThis.jotaiAtomCache||{cache:new Map,get(e,t){return this.cache.has(e)?this.cache.get(e):(this.cache.set(e,t),t)}};globalThis.jotaiAtomCache=globalThis.jotaiAtomCache||{cache:new Map,get(e,t){return this.cache.has(e)?this.cache.get(e):(this.cache.set(e,t),t)}};globalThis.jotaiAtomCache=globalThis.jotaiAtomCache||{cache:new Map,get(e,t){return this.cache.has(e)?this.cache.get(e):(this.cache.set(e,t),t)}};globalThis.jotaiAtomCache=globalThis.jotaiAtomCache||{cache:new Map,get(e,t){return this.cache.has(e)?this.cache.get(e):(this.cache.set(e,t),t)}};globalThis.jotaiAtomCache=globalThis.jotaiAtomCache||{cache:new Map,get(e,t){return this.cache.has(e)?this.cache.get(e):(this.cache.set(e,t),t)}};globalThis.jotaiAtomCache=globalThis.jotaiAtomCache||{cache:new Map,get(e,t){return this.cache.has(e)?this.cache.get(e):(this.cache.set(e,t),t)}};globalThis.jotaiAtomCache=globalThis.jotaiAtomCache||{cache:new Map,get(e,t){return this.cache.has(e)?this.cache.get(e):(this.cache.set(e,t),t)}};const ft=e=>({name:e.filename,uid:e.id,url:e.url});globalThis.jotaiAtomCache=globalThis.jotaiAtomCache||{cache:new Map,get(e,t){return this.cache.has(e)?this.cache.get(e):(this.cache.set(e,t),t)}};const{Title:mt}=D;globalThis.jotaiAtomCache=globalThis.jotaiAtomCache||{cache:new Map,get(e,t){return this.cache.has(e)?this.cache.get(e):(this.cache.set(e,t),t)}};globalThis.jotaiAtomCache=globalThis.jotaiAtomCache||{cache:new Map,get(e,t){return this.cache.has(e)?this.cache.get(e):(this.cache.set(e,t),t)}};globalThis.jotaiAtomCache=globalThis.jotaiAtomCache||{cache:new Map,get(e,t){return this.cache.has(e)?this.cache.get(e):(this.cache.set(e,t),t)}};globalThis.jotaiAtomCache=globalThis.jotaiAtomCache||{cache:new Map,get(e,t){return this.cache.has(e)?this.cache.get(e):(this.cache.set(e,t),t)}};function Ye({platform:e}){return l(ze,{platform:e})}globalThis.jotaiAtomCache=globalThis.jotaiAtomCache||{cache:new Map,get(e,t){return this.cache.has(e)?this.cache.get(e):(this.cache.set(e,t),t)}};const _e=(e,t)=>[...new Set(e==null?void 0:e.filter(o=>t==null?void 0:t.includes(o.id)).map(o=>o.platform))],Ue=e=>e.map(t=>({children:l(Ye,{platform:t}),key:t,label:l("span",{title:t,children:l(me,{name:t,size:32})})}));function gt(){const e=F(U),{activeAccounts:t}=ge(),{groups:o}=de(),s=I.useMemo(()=>{const u=e.accounts.accountIds,k=[],m=[...u,...k],d=_e(t,m);return Ue(d)},[t,o,e.accounts.groupIds,e.accounts.accountIds]);return!s||!s.length?l(D.Title,{level:4,style:{textAlign:"center"},type:"secondary",children:w("Please select an account")}):l(pe,{items:s,tabBarGutter:8})}const Ne=""+new URL("bit-social-ba-assets-616.svg",import.meta.url).href;globalThis.jotaiAtomCache=globalThis.jotaiAtomCache||{cache:new Map,get(e,t){return this.cache.has(e)?this.cache.get(e):(this.cache.set(e,t),t)}};const{Link:He,Title:Be}=D;function Re(){const{token:e}=te.useToken(),[t,o]=I.useState(!1);return l(be,{content:l(Te,{preview:!1,src:Ne,width:400}),onOpenChange:u=>{o(u)},open:t,placement:"bottomRight",title:x(Ce,{align:"center",justify:"space-between",children:[l(Be,{level:5,style:{color:e.colorPrimary,marginBottom:0},children:w("Advance Schedule Feature on Pro!")}),l(He,{href:"https://bit-social.com/#pricing",rel:"noopener noreferrer nofollow",strong:!0,style:{whiteSpace:"nowrap"},target:"_blank",children:l(Z,{size:"small",type:"primary",children:w("Buy Pro")})})]}),trigger:"click",children:x(Z,{style:{borderColor:e.colorPrimary},type:"text",children:[w("Advance Schedule")," ",l(he,{color:"#ff8609",size:18})]})})}globalThis.jotaiAtomCache=globalThis.jotaiAtomCache||{cache:new Map,get(e,t){return this.cache.has(e)?this.cache.get(e):(this.cache.set(e,t),t)}};const{dateFormat:Ve,timeFormat:Ze,timeZone:We}=_(H),Ge=B(Ze),Je=B(Ve);function Ke({handleOnClear:e,onChangeDate:t,stateData:o,type:s}){var k,m,d;const{token:u}=te.useToken();return x(z,{children:[l(D.Text,{style:{border:`1px solid ${u.colorBorder}`,borderRadius:"9px",cursor:"not-allowed",fontSize:"14px",padding:"5px 15px"},children:O(((k=o==null?void 0:o.settings)==null?void 0:k.started_at)||J(We)).format(Je)}),l(E,{allowClear:s==="SHARENOW",format:Ge,onChange:s==="SHARENOW"?e:void 0,onOk:t("started_at"),showNow:!1,showSecond:!1,value:(m=o.settings)!=null&&m.started_at?O((d=o.settings)==null?void 0:d.started_at,"YYYY-MM-DD HH:mm:ss"):void 0}),l(Re,{})]})}globalThis.jotaiAtomCache=globalThis.jotaiAtomCache||{cache:new Map,get(e,t){return this.cache.has(e)?this.cache.get(e):(this.cache.set(e,t),t)}};const{dateFormat:qe,timeFormat:Qe}=_(H),Xe=`${qe} ${Qe}`;B(Xe);globalThis.jotaiAtomCache=globalThis.jotaiAtomCache||{cache:new Map,get(e,t){return this.cache.has(e)?this.cache.get(e):(this.cache.set(e,t),t)}};function dt({handleOnClear:e,onChangeDate:t,stateData:o,type:s}){return l(Ke,{handleOnClear:e,onChangeDate:t,stateData:o,type:s})}export{R as $,dt as D,gt as T,U as a,ye as b,Oe as c,E as d,xe as e,_e as g,ft as p,je as t,Me as u};
