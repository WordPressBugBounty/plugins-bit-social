import{r as l,_ as G,u as Te,C as we,a as k,c as fe,b as q,d as xe,e as je,o as Me,f as ne,g as z,h as be,i as $e,m as Pe,t as Ne,k as Ie,l as I,n as Oe,p as Le,q as ee,v as te,w as ae,x as Q,j as i,y as v,S as pe,z as m,B as X,L as H,T as K,A as oe,D as ie,E as re,G as ve,H as Ce,F as R,I as Re,M as Ee,J as _e,K as Be}from"./main-spicy-waves-pick.js";import{P as J,p as se,i as Z}from"./PlatformIcon-DFnVv2U9.js";import{u as He}from"./useDebounce-Cztmmob-.js";import{u as Se,C as Ve,a as ze,i as Ge}from"./groupHelper-Q2Z6h_Y0.js";import{A as qe}from"./index-1ar1kFWx.js";import{B as De}from"./index-CF365UXI.js";import{F as Fe}from"./index-BR9ObBWj.js";import{S as We}from"./index-CRmb-MJm.js";import{P as le,F as U}from"./index-ihb_gi5g.js";import{C as Xe}from"./index-BYnHC1Cu.js";import{C as V,R as ce}from"./row-BTzcosep.js";import{M as ke}from"./index-C2wloJb5.js";import{A as Ke}from"./index-BOsNLQlY.js";import{I as ye}from"./index-Bpfui51h.js";import{s as Qe}from"./index-BdAq38_b.js";import"./index-CZOxyE_6.js";import"./collapse-BbEVqHco.js";import"./EllipsisOutlined-BaGkuCVJ.js";import"./Dropdown-DWF1R22X.js";import"./LeftOutlined-D7IKIZ4y.js";import"./move-BPAFbN3D.js";import"./EyeOutlined-CISp0hJz.js";import"./context-CJWoLdrH.js";var ue=function(t,o){if(!t)return null;var a={left:t.offsetLeft,right:t.parentElement.clientWidth-t.clientWidth-t.offsetLeft,width:t.clientWidth,top:t.offsetTop,bottom:t.parentElement.clientHeight-t.clientHeight-t.offsetTop,height:t.clientHeight};return o?{left:0,right:0,width:0,top:a.top,bottom:a.bottom,height:a.height}:{left:a.left,right:a.right,width:a.width,top:0,bottom:0,height:0}},x=function(t){return t!==void 0?"".concat(t,"px"):void 0};function Ye(e){var t=e.prefixCls,o=e.containerRef,a=e.value,c=e.getValueIndex,r=e.motionName,h=e.onMotionStart,n=e.onMotionEnd,f=e.direction,C=e.vertical,d=C===void 0?!1:C,S=l.useRef(null),u=l.useState(a),b=G(u,2),A=b[0],O=b[1],j=function(P){var y,N=c(P),w=(y=o.current)===null||y===void 0?void 0:y.querySelectorAll(".".concat(t,"-item"))[N];return(w==null?void 0:w.offsetParent)&&w},E=l.useState(null),T=G(E,2),s=T[0],_=T[1],L=l.useState(null),M=G(L,2),g=M[0],$=M[1];Te(function(){if(A!==a){var p=j(A),P=j(a),y=ue(p,d),N=ue(P,d);O(a),_(y),$(N),p&&P?h():n()}},[a]);var B=l.useMemo(function(){if(d){var p;return x((p=s==null?void 0:s.top)!==null&&p!==void 0?p:0)}return x(f==="rtl"?-(s==null?void 0:s.right):s==null?void 0:s.left)},[d,f,s]),D=l.useMemo(function(){if(d){var p;return x((p=g==null?void 0:g.top)!==null&&p!==void 0?p:0)}return x(f==="rtl"?-(g==null?void 0:g.right):g==null?void 0:g.left)},[d,f,g]),F=function(){return d?{transform:"translateY(var(--thumb-start-top))",height:"var(--thumb-start-height)"}:{transform:"translateX(var(--thumb-start-left))",width:"var(--thumb-start-width)"}},Y=function(){return d?{transform:"translateY(var(--thumb-active-top))",height:"var(--thumb-active-height)"}:{transform:"translateX(var(--thumb-active-left))",width:"var(--thumb-active-width)"}},W=function(){_(null),$(null),n()};return!s||!g?null:l.createElement(we,{visible:!0,motionName:r,motionAppear:!0,onAppearStart:F,onAppearActive:Y,onVisibleChanged:W},function(p,P){var y=p.className,N=p.style,w=k(k({},N),{},{"--thumb-start-left":B,"--thumb-start-width":x(s==null?void 0:s.width),"--thumb-active-left":D,"--thumb-active-width":x(g==null?void 0:g.width),"--thumb-start-top":B,"--thumb-start-height":x(s==null?void 0:s.height),"--thumb-active-top":D,"--thumb-active-height":x(g==null?void 0:g.height)}),Ae={ref:fe(S,P),style:w,className:q("".concat(t,"-thumb"),y)};return l.createElement("div",Ae)})}var Ue=["prefixCls","direction","vertical","options","disabled","defaultValue","value","onChange","className","motionName"];function Je(e){if(typeof e.title<"u")return e.title;if(be(e.label)!=="object"){var t;return(t=e.label)===null||t===void 0?void 0:t.toString()}}function Ze(e){return e.map(function(t){if(be(t)==="object"&&t!==null){var o=Je(t);return k(k({},t),{},{title:o})}return{label:t==null?void 0:t.toString(),title:t==null?void 0:t.toString(),value:t}})}var et=function(t){var o=t.prefixCls,a=t.className,c=t.disabled,r=t.checked,h=t.label,n=t.title,f=t.value,C=t.onChange,d=function(u){c||C(u,f)};return l.createElement("label",{className:q(a,z({},"".concat(o,"-item-disabled"),c))},l.createElement("input",{className:"".concat(o,"-item-input"),type:"radio",disabled:c,checked:r,onChange:d}),l.createElement("div",{className:"".concat(o,"-item-label"),title:n,role:"option","aria-selected":r},h))},tt=l.forwardRef(function(e,t){var o,a,c=e.prefixCls,r=c===void 0?"rc-segmented":c,h=e.direction,n=e.vertical,f=e.options,C=f===void 0?[]:f,d=e.disabled,S=e.defaultValue,u=e.value,b=e.onChange,A=e.className,O=A===void 0?"":A,j=e.motionName,E=j===void 0?"thumb-motion":j,T=xe(e,Ue),s=l.useRef(null),_=l.useMemo(function(){return fe(s,t)},[s,t]),L=l.useMemo(function(){return Ze(C)},[C]),M=je((o=L[0])===null||o===void 0?void 0:o.value,{value:u,defaultValue:S}),g=G(M,2),$=g[0],B=g[1],D=l.useState(!1),F=G(D,2),Y=F[0],W=F[1],p=function(N,w){d||(B(w),b==null||b(w))},P=Me(T,["children"]);return l.createElement("div",ne({role:"listbox","aria-label":"segmented control"},P,{className:q(r,(a={},z(a,"".concat(r,"-rtl"),h==="rtl"),z(a,"".concat(r,"-disabled"),d),z(a,"".concat(r,"-vertical"),n),a),O),ref:_}),l.createElement("div",{className:"".concat(r,"-group")},l.createElement(Ye,{vertical:n,prefixCls:r,value:$,containerRef:s,motionName:"".concat(r,"-").concat(E),direction:h,getValueIndex:function(N){return L.findIndex(function(w){return w.value===N})},onMotionStart:function(){W(!0)},onMotionEnd:function(){W(!1)}}),L.map(function(y){return l.createElement(et,ne({},y,{key:y.value,prefixCls:r,className:q(y.className,"".concat(r,"-item"),z({},"".concat(r,"-item-selected"),y.value===$&&!Y)),checked:y.value===$,onChange:p,disabled:!!d||!!y.disabled}))})))}),at=tt;function he(e,t){return{[`${e}, ${e}:hover, ${e}:focus`]:{color:t.colorTextDisabled,cursor:"not-allowed"}}}function de(e){return{backgroundColor:e.itemSelectedBg,boxShadow:e.boxShadowTertiary}}const ot=Object.assign({overflow:"hidden"},Ne),it=e=>{const{componentCls:t}=e,o=e.calc(e.controlHeight).sub(e.calc(e.trackPadding).mul(2)).equal(),a=e.calc(e.controlHeightLG).sub(e.calc(e.trackPadding).mul(2)).equal(),c=e.calc(e.controlHeightSM).sub(e.calc(e.trackPadding).mul(2)).equal();return{[t]:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},Ie(e)),{display:"inline-block",padding:e.trackPadding,color:e.itemColor,background:e.trackBg,borderRadius:e.borderRadius,transition:`all ${e.motionDurationMid} ${e.motionEaseInOut}`,[`${t}-group`]:{position:"relative",display:"flex",alignItems:"stretch",justifyItems:"flex-start",flexDirection:"row",width:"100%"},[`&${t}-rtl`]:{direction:"rtl"},[`&${t}-vertical`]:{[`${t}-group`]:{flexDirection:"column"},[`${t}-thumb`]:{width:"100%",height:0,padding:`0 ${I(e.paddingXXS)}`}},[`&${t}-block`]:{display:"flex"},[`&${t}-block ${t}-item`]:{flex:1,minWidth:0},[`${t}-item`]:{position:"relative",textAlign:"center",cursor:"pointer",transition:`color ${e.motionDurationMid} ${e.motionEaseInOut}`,borderRadius:e.borderRadiusSM,transform:"translateZ(0)","&-selected":Object.assign(Object.assign({},de(e)),{color:e.itemSelectedColor}),"&::after":{content:'""',position:"absolute",zIndex:-1,width:"100%",height:"100%",top:0,insetInlineStart:0,borderRadius:"inherit",transition:`background-color ${e.motionDurationMid}`,pointerEvents:"none"},[`&:hover:not(${t}-item-selected):not(${t}-item-disabled)`]:{color:e.itemHoverColor,"&::after":{backgroundColor:e.itemHoverBg}},[`&:active:not(${t}-item-selected):not(${t}-item-disabled)`]:{color:e.itemHoverColor,"&::after":{backgroundColor:e.itemActiveBg}},"&-label":Object.assign({minHeight:o,lineHeight:I(o),padding:`0 ${I(e.segmentedPaddingHorizontal)}`},ot),"&-icon + *":{marginInlineStart:e.calc(e.marginSM).div(2).equal()},"&-input":{position:"absolute",insetBlockStart:0,insetInlineStart:0,width:0,height:0,opacity:0,pointerEvents:"none"}},[`${t}-thumb`]:Object.assign(Object.assign({},de(e)),{position:"absolute",insetBlockStart:0,insetInlineStart:0,width:0,height:"100%",padding:`${I(e.paddingXXS)} 0`,borderRadius:e.borderRadiusSM,transition:`transform ${e.motionDurationSlow} ${e.motionEaseInOut}, height ${e.motionDurationSlow} ${e.motionEaseInOut}`,[`& ~ ${t}-item:not(${t}-item-selected):not(${t}-item-disabled)::after`]:{backgroundColor:"transparent"}}),[`&${t}-lg`]:{borderRadius:e.borderRadiusLG,[`${t}-item-label`]:{minHeight:a,lineHeight:I(a),padding:`0 ${I(e.segmentedPaddingHorizontal)}`,fontSize:e.fontSizeLG},[`${t}-item, ${t}-thumb`]:{borderRadius:e.borderRadius}},[`&${t}-sm`]:{borderRadius:e.borderRadiusSM,[`${t}-item-label`]:{minHeight:c,lineHeight:I(c),padding:`0 ${I(e.segmentedPaddingHorizontalSM)}`},[`${t}-item, ${t}-thumb`]:{borderRadius:e.borderRadiusXS}}}),he(`&-disabled ${t}-item`,e)),he(`${t}-item-disabled`,e)),{[`${t}-thumb-motion-appear-active`]:{transition:`transform ${e.motionDurationSlow} ${e.motionEaseInOut}, width ${e.motionDurationSlow} ${e.motionEaseInOut}`,willChange:"transform, width"}})}},rt=e=>{const{colorTextLabel:t,colorText:o,colorFillSecondary:a,colorBgElevated:c,colorFill:r,lineWidthBold:h,colorBgLayout:n}=e;return{trackPadding:h,trackBg:n,itemColor:t,itemHoverColor:o,itemHoverBg:a,itemSelectedBg:c,itemActiveBg:r,itemSelectedColor:o}},ct=$e("Segmented",e=>{const{lineWidth:t,calc:o}=e,a=Pe(e,{segmentedPaddingHorizontal:o(e.controlPaddingHorizontal).sub(t).equal(),segmentedPaddingHorizontalSM:o(e.controlPaddingHorizontalSM).sub(t).equal()});return[it(a)]},rt);var me=function(e,t){var o={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&t.indexOf(a)<0&&(o[a]=e[a]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var c=0,a=Object.getOwnPropertySymbols(e);c<a.length;c++)t.indexOf(a[c])<0&&Object.prototype.propertyIsEnumerable.call(e,a[c])&&(o[a[c]]=e[a[c]]);return o};function nt(e){return typeof e=="object"&&!!(e!=null&&e.icon)}const st=l.forwardRef((e,t)=>{const{prefixCls:o,className:a,rootClassName:c,block:r,options:h=[],size:n="middle",style:f,vertical:C}=e,d=me(e,["prefixCls","className","rootClassName","block","options","size","style","vertical"]),{getPrefixCls:S,direction:u,segmented:b}=l.useContext(Oe),A=S("segmented",o),[O,j,E]=ct(A),T=Le(n),s=l.useMemo(()=>h.map(M=>{if(nt(M)){const{icon:g,label:$}=M,B=me(M,["icon","label"]);return Object.assign(Object.assign({},B),{label:l.createElement(l.Fragment,null,l.createElement("span",{className:`${A}-item-icon`},g),$&&l.createElement("span",null,$))})}return M}),[h,A]),_=q(a,c,b==null?void 0:b.className,{[`${A}-block`]:r,[`${A}-sm`]:T==="small",[`${A}-lg`]:T==="large",[`${A}-vertical`]:C},j,E),L=Object.assign(Object.assign({},b==null?void 0:b.style),f);return O(l.createElement(at,Object.assign({},d,{className:_,style:L,options:s,ref:t,prefixCls:A,direction:u,vertical:C})))}),lt=st;globalThis.jotaiAtomCache=globalThis.jotaiAtomCache||{cache:new Map,get(e,t){return this.cache.has(e)?this.cache.get(e):(this.cache.set(e,t),t)}};function ut(){const e=ee(),{isPending:t,mutateAsync:o}=te({mutationFn:async a=>ae(`account/${a}/destroy`,void 0,void 0,"POST"),onSuccess:()=>{e.invalidateQueries({queryKey:["accounts"]})}});return{deleteAccount:o,deleteAccountLoading:t}}globalThis.jotaiAtomCache=globalThis.jotaiAtomCache||{cache:new Map,get(e,t){return this.cache.has(e)?this.cache.get(e):(this.cache.set(e,t),t)}};function ht(){const e=ee(),{isPending:t,mutateAsync:o}=te({mutationFn:async a=>ae(`account/${a.id}/update-status`,{status:a.status},void 0,"POST"),onSuccess:()=>{e.invalidateQueries({queryKey:["accounts"]})}});return{updateAccountStatus:a=>o(a),updateAccountStatusLoading:t}}globalThis.jotaiAtomCache=globalThis.jotaiAtomCache||{cache:new Map,get(e,t){return this.cache.has(e)?this.cache.get(e):(this.cache.set(e,t),t)}};function dt({avatarLink:e,platform:t,size:o=18}){const{token:a}=Q.useToken();return i(De,{count:i(J,{name:t,size:o,style:{border:"2px solid",borderColor:a.colorBorder}}),offset:[-2,28],size:"small",children:i(qe,{src:e})})}globalThis.jotaiAtomCache=globalThis.jotaiAtomCache||{cache:new Map,get(e,t){return this.cache.has(e)?this.cache.get(e):(this.cache.set(e,t),t)}};function mt({accountType:e,id:t,image:o,name:a,platform:c,status:r}){const{deleteAccount:h,deleteAccountLoading:n}=ut(),{updateAccountStatus:f,updateAccountStatusLoading:C}=ht(),{token:d}=Q.useToken(),S=1,u=0;return v(Xe,{size:"small",style:{borderColor:d.colorBorder},children:[v(Fe,{className:"w-100",justify:"space-between",children:[i(dt,{avatarLink:o,platform:c}),v(pe,{children:[i(le,{description:r?m("It will no longer be able to automatic posting, scheduling, and sharing"):m("Enable Automatic Posting, Scheduling, and Sharing"),okButtonProps:{danger:!!r,loading:C},okText:r?m("Disable"):m("Enable"),onConfirm:()=>f({id:t,status:r===S?u:S}),placement:"top",title:`Do you want to ${r===S?m("disable"):m("enable")} the account?`,children:i(We,{checked:!!r,size:"small"})}),i(le,{description:m("This account also be deleted from related schedule!"),okButtonProps:{danger:!0,loading:n},okText:m("Yes, delete"),onConfirm:()=>h(t),placement:"top",title:m("Are you sure?"),children:i(X,{danger:!0,icon:i(H,{name:"trash-2"}),type:"text"})})]})]}),i(K.Paragraph,{ellipsis:!0,style:{marginBottom:"0px",marginTop:"8px"},children:a}),e&&i(K.Text,{ellipsis:!0,type:"secondary",children:e})]})}const gt="_accountLoaderSection_1360f_1 grid",ft="_accountLoader_1360f_1",ge={accountLoaderSection:gt,accountLoader:ft};globalThis.jotaiAtomCache=globalThis.jotaiAtomCache||{cache:new Map,get(e,t){return this.cache.has(e)?this.cache.get(e):(this.cache.set(e,t),t)}};function bt({accountQuantity:e}){const t=Array.from({length:e}).fill(0);return i("div",{className:ge.accountLoaderSection,children:t.map((o,a)=>i("div",{className:`${ge.accountLoader} loader`},`loader-${a*2}`))})}globalThis.jotaiAtomCache=globalThis.jotaiAtomCache||{cache:new Map,get(e,t){return this.cache.has(e)?this.cache.get(e):(this.cache.set(e,t),t)}};function pt({searchAccountsTxt:e}){const[t]=oe({}),o=t.get("value")||"",c={type:t.get("type")||"",value:o},{accounts:r,isLoadingAccounts:h}=Se({searchAccountsTxt:e,selectedMenuTab:c});return h?i(bt,{accountQuantity:4}):v(ce,{gutter:[16,16],children:[i(V,{md:8,sm:12,xl:6,xs:24,children:i(Ve,{btnType:"custom"})}),r.map(n=>i(V,{md:8,sm:12,xl:6,xs:24,children:i(mt,{accountType:n.details.account_type,id:n.id,image:n.details.icon,name:n.details.account_name,platform:n.platform,status:n.status},n.id)},n.id))]})}globalThis.jotaiAtomCache=globalThis.jotaiAtomCache||{cache:new Map,get(e,t){return this.cache.has(e)?this.cache.get(e):(this.cache.set(e,t),t)}};globalThis.jotaiAtomCache=globalThis.jotaiAtomCache||{cache:new Map,get(e,t){return this.cache.has(e)?this.cache.get(e):(this.cache.set(e,t),t)}};function vt(e){return Object.keys(e)}function Ct({setSearchAccounts:e}){const{isDarkTheme:t,isProClient:o}=ie(re),{token:a}=Q.useToken(),[c,r]=oe({}),h=ve(Ce),n=c.get("value")||"all",f=[{key:"all",label:v(R,{children:[i(J,{size:30}),i(K.Text,{className:"pl-2",children:m("All")})]})}],C=vt(se).map(u=>({key:u,label:v(R,{children:[i(J,{name:u,size:30})," ",i(K.Text,{className:"px-2",children:se[u].name}),Z(u)&&!o?i(H,{color:"#ff8609",name:"crown",size:18}):void 0]})})),d=[...f,...C];return i(R,{children:i(ke,{className:"rounded-md",items:d,mode:"inline",onClick:({key:u})=>{if(Z(u)&&!o){h(!0);return}r(b=>(b.set("type","platform"),b.set("value",u),b)),e("")},selectedKeys:[n],style:{backgroundColor:a.colorBgContainer,border:"none",paddingInline:"6px"},theme:t?"dark":"light"})})}const St="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='utf-8'?%3e%3c!--%20Generator:%20Adobe%20Illustrator%2027.7.0,%20SVG%20Export%20Plug-In%20.%20SVG%20Version:%206.00%20Build%200)%20--%3e%3csvg%20version='1.1'%20id='Layer_1'%20xmlns='http://www.w3.org/2000/svg'%20xmlns:xlink='http://www.w3.org/1999/xlink'%20x='0px'%20y='0px'%20viewBox='0%200%20199%20155'%20style='enable-background:new%200%200%20199%20155;'%20xml:space='preserve'%3e%3cstyle%20type='text/css'%3e%20.st0{fill:%23565B84;}%20%3c/style%3e%3cpath%20class='st0'%20d='M33.2,30.4C45.9,43.4,48.8,64,64.8,74c7.9,5,18.2,2.6,26.9,4c9.6,1.5,16.9,6.9,24.1,13.1%20c14.4,12.5,21.3,31.6,35.8,44c10.2,8.7,22.2,0.5,31.4-5.4c1.9-1.2,6.7-3.3,7.1,0.7c0.4,3.5-6.5,6.5-8.9,8c-11,7.1-22.9,9.4-33.7,0.7%20c-17.4-14.1-24.7-38-43.9-50.3C88.8,79.4,70.2,87.2,56.3,75C43.5,63.8,41,44.2,27.9,33.8c-1.9,2.6-6.1,10-9.5,10.2%20c-3.5,0.2-4.7-5.1-5.2-7.6c-1.4-5.9-4.8-22.2,1.3-26.7c5.5-4.1,20.5,2,25.7,4.9c2.3,1.3,6.3,3.4,6,6.6%20C45.7,25.9,36.8,28.4,33.2,30.4z'/%3e%3c/svg%3e";globalThis.jotaiAtomCache=globalThis.jotaiAtomCache||{cache:new Map,get(e,t){return this.cache.has(e)?this.cache.get(e):(this.cache.set(e,t),t)}};function yt(){return v(R,{children:[i("img",{alt:"Arrow",src:St,style:{marginLeft:"24%"},width:150}),i(Ke,{description:v(R,{children:[i("div",{className:"mb-3",dangerouslySetInnerHTML:{__html:m('To connect your social media accounts, click <b>"Connect Account"</b>  There are two methods available:')}}),v("div",{className:"mb-3",children:[v("b",{children:[m("Connect"),":"]}),m("It will automatically connect your social account without any credentials")]}),v("div",{className:"mb-3",children:[v("b",{children:[m("Custom App"),":"]}),m("It will show you a form to input app credentials to create your own app and connect your social account.")]}),v("a",{href:"https://bit-social.com/docs/accounts/",rel:"nofollow noopener noreferrer",target:"_blank",children:[m("You can find more about it here"),i(H,{name:"move-up-right",style:{transform:"translateY(-2px)"}})]})]}),style:{border:"4px solid #565b84",fontSize:"1.3rem",marginLeft:"10%",marginTop:-25,width:800}})]})}globalThis.jotaiAtomCache=globalThis.jotaiAtomCache||{cache:new Map,get(e,t){return this.cache.has(e)?this.cache.get(e):(this.cache.set(e,t),t)}};function At({accounts:e,isLoadingAccounts:t,searchAccounts:o,searchAccountsTxt:a,setSearchAccounts:c}){return v(ce,{gutter:20,children:[i(V,{span:6,children:i(Ct,{setSearchAccounts:c})}),v(V,{span:18,children:[t&&i(Re,{active:!0}),i(pt,{searchAccountsTxt:a}),!t&&!o&&!(e!=null&&e.length)?i(yt,{}):void 0]})]})}globalThis.jotaiAtomCache=globalThis.jotaiAtomCache||{cache:new Map,get(e,t){return this.cache.has(e)?this.cache.get(e):(this.cache.set(e,t),t)}};function Tt(){const e=ee(),{isPending:t,isSuccess:o,mutateAsync:a}=te({mutationFn:async c=>ae("pro_groups",{name:c},void 0,"POST"),mutationKey:["create_group"],onSuccess:()=>{e.invalidateQueries({queryKey:["groups"]})}});return{createGroup:a,isGroupCreated:o,isLoadingCreateGroup:t}}globalThis.jotaiAtomCache=globalThis.jotaiAtomCache||{cache:new Map,get(e,t){return this.cache.has(e)?this.cache.get(e):(this.cache.set(e,t),t)}};function wt(){const{token:e}=Q.useToken(),{isDarkTheme:t}=ie(re),[o]=U.useForm(),{groups:a}=ze(),{createGroup:c,isLoadingCreateGroup:r}=Tt(),[h,n]=l.useState(!1),f=()=>{o.resetFields(),n(!1)},C=async()=>{o.submit()},d=async({name:S})=>{const u=await c(S);(u==null?void 0:u.code)==="SUCCESS"&&(o.resetFields(),Qe.success({message:"Group create successfully!"}),n(!1))};return v(R,{children:[i(X,{className:"mb-2",icon:i(H,{name:"plus",size:22}),onClick:()=>n(!0),style:{border:`2px solid ${e.colorPrimary}`,color:t?e.colorTextBase:e.colorPrimary,fontWeight:500},type:"text",children:m("Create Group")}),i(Ee,{footer:[i(X,{onClick:f,children:m("Cancel")},"back"),i(X,{loading:r,onClick:C,type:"primary",children:m("Create")},"submit")],onCancel:f,open:h,children:i(U,{form:o,layout:"vertical",onFinish:d,children:i(U.Item,{label:m("Name"),name:"name",rules:[{message:"Please enter group name",required:!0},{validator:(S,u)=>{if(u.length)return Ge(u.trim(),a)?Promise.reject(new Error(u+" name already exist")):Promise.resolve()}}],children:i(ye,{name:"name",placeholder:m("New group"),required:!0})})})})]})}globalThis.jotaiAtomCache=globalThis.jotaiAtomCache||{cache:new Map,get(e,t){return this.cache.has(e)?this.cache.get(e):(this.cache.set(e,t),t)}};globalThis.jotaiAtomCache=globalThis.jotaiAtomCache||{cache:new Map,get(e,t){return this.cache.has(e)?this.cache.get(e):(this.cache.set(e,t),t)}};globalThis.jotaiAtomCache=globalThis.jotaiAtomCache||{cache:new Map,get(e,t){return this.cache.has(e)?this.cache.get(e):(this.cache.set(e,t),t)}};globalThis.jotaiAtomCache=globalThis.jotaiAtomCache||{cache:new Map,get(e,t){return this.cache.has(e)?this.cache.get(e):(this.cache.set(e,t),t)}};globalThis.jotaiAtomCache=globalThis.jotaiAtomCache||{cache:new Map,get(e,t){return this.cache.has(e)?this.cache.get(e):(this.cache.set(e,t),t)}};globalThis.jotaiAtomCache=globalThis.jotaiAtomCache||{cache:new Map,get(e,t){return this.cache.has(e)?this.cache.get(e):(this.cache.set(e,t),t)}};globalThis.jotaiAtomCache=globalThis.jotaiAtomCache||{cache:new Map,get(e,t){return this.cache.has(e)?this.cache.get(e):(this.cache.set(e,t),t)}};globalThis.jotaiAtomCache=globalThis.jotaiAtomCache||{cache:new Map,get(e,t){return this.cache.has(e)?this.cache.get(e):(this.cache.set(e,t),t)}};globalThis.jotaiAtomCache=globalThis.jotaiAtomCache||{cache:new Map,get(e,t){return this.cache.has(e)?this.cache.get(e):(this.cache.set(e,t),t)}};globalThis.jotaiAtomCache=globalThis.jotaiAtomCache||{cache:new Map,get(e,t){return this.cache.has(e)?this.cache.get(e):(this.cache.set(e,t),t)}};function xt(){return _e()}globalThis.jotaiAtomCache=globalThis.jotaiAtomCache||{cache:new Map,get(e,t){return this.cache.has(e)?this.cache.get(e):(this.cache.set(e,t),t)}};function Qt(){const{isProClient:e}=ie(re),t=ve(Ce),[o,a]=oe({}),c=Be(),r=o.get("value")||"",h=o.get("type")||"",[n,f]=l.useState(h||"platform"),C=["platform","group"];(r!==""&&Z(r)&&!e||r.length&&!C.includes(h)||!e&&h==="group")&&c("/accounts");const d={type:h,value:r},[S,u]=l.useState(""),b=He(S,400),{accounts:A,isLoadingAccounts:O}=Se({searchAccountsTxt:b,selectedMenuTab:d}),j=T=>{u(T.target.value),a(s=>(s.delete("type"),s.delete("value"),s))};return v("div",{children:[v(ce,{gutter:20,children:[i(V,{span:6,children:i(lt,{block:!0,onChange:T=>{if(!e&&T==="group"){t(!0);return}f(T),a(s=>(s.set("type",T),s.set("value","all"),s))},options:[{label:m("Accounts"),value:"platform"},{label:e?"Groups":v(R,{children:[m("Groups")," ",i(H,{color:"#ff8609",name:"crown",size:18})]}),value:"group"}],value:n})}),i(V,{children:n==="platform"?i(pe,{style:{marginBottom:10},children:i(ye,{allowClear:!0,onChange:j,placeholder:m("Search accounts"),prefix:i(H,{name:"search"}),value:S})}):i(wt,{})})]}),n==="platform"?i(At,{accounts:A,isLoadingAccounts:O,searchAccounts:S,searchAccountsTxt:b,setSearchAccounts:u}):i(xt,{})]})}globalThis.jotaiAtomCache=globalThis.jotaiAtomCache||{cache:new Map,get(e,t){return this.cache.has(e)?this.cache.get(e):(this.cache.set(e,t),t)}};export{Qt as default};
